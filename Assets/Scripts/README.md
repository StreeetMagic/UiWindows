# UI.Windows - –§—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è Unity UI

![Unity Version](https://img.shields.io/badge/Unity-2019.1%2B-blue)
![Version](https://img.shields.io/badge/Version-1.2.7-green)
![License](https://img.shields.io/badge/License-MIT-orange)

## ü§î –ß—Ç–æ —ç—Ç–æ –≤–æ–æ–±—â–µ —Ç–∞–∫–æ–µ –∏ –∑–∞—á–µ–º?

**UI.Windows** - —ç—Ç–æ **–ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –≤ Unity**. –ü—Ä–µ–¥—Å—Ç–∞–≤—å, —á—Ç–æ —Ç—ã –¥–µ–ª–∞–µ—à—å –∏–≥—Ä—É –∏ —Ç–µ–±–µ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –∫—É—á—É —ç–∫—Ä–∞–Ω–æ–≤: –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å, –º–∞–≥–∞–∑–∏–Ω, –¥–∏–∞–ª–æ–≥–∏ –∏ –≤—Å—ë —Ç–∞–∫–æ–µ. –ë–µ–∑ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ —ç—Ç–æ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –∞–¥—Å–∫–∏–π –∞–¥ - –∫—É—á–∞ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–¥–∞, –ø–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫—Ä–∏–≤–æ, –∞–Ω–∏–º–∞—Ü–∏–∏ –≥–ª—é—á–∞—Ç, –∞ –∫–æ–≥–¥–∞ –ø—Ä–æ–µ–∫—Ç —Ä–∞–∑—Ä–∞—Å—Ç–∞–µ—Ç—Å—è, —Ç—ã —É–∂–µ –Ω–µ –ø–æ–Ω–∏–º–∞–µ—à—å –≥–¥–µ —á—Ç–æ –ª–µ–∂–∏—Ç.

**UI.Windows —Ä–µ—à–∞–µ—Ç –í–°–ï —ç—Ç–∏ –ø—Ä–æ–±–ª–µ–º—ã** –∏ –¥–∞—ë—Ç —Ç–µ–±–µ –≥–æ—Ç–æ–≤—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É, –≥–¥–µ –≤—Å—ë –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å —Å–∞–º–æ–≥–æ –Ω–∞—á–∞–ª–∞.

### üéØ –ì–ª–∞–≤–Ω–∞—è –∏–¥–µ—è - –¥—É–º–∞–π –∫–∞–∫ –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫

–§—Ä–µ–π–º–≤–æ—Ä–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–Ω—Ü–µ–ø—Ü–∏—é **"–≠–∫—Ä–∞–Ω/–ú–∞–∫–µ—Ç/–ö–æ–º–ø–æ–Ω–µ–Ω—Ç"** - –ø–æ —Å—É—Ç–∏, —ç—Ç–æ –∫–∞–∫ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü—ã:

- **–≠–∫—Ä–∞–Ω (Screen)** = –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü–∞ (–≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å)
- **–ú–∞–∫–µ—Ç (Layout)** = HTML-—Ä–∞–∑–º–µ—Ç–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–≥–¥–µ —á—Ç–æ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–æ)  
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç (Component)** = —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ (–∫–Ω–æ–ø–∫–∏, —Ç–µ–∫—Å—Ç, –∫–∞—Ä—Ç–∏–Ω–∫–∏)

–¢–æ–ª—å–∫–æ –≤—Å—ë —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ Unity –∏ –∑–∞—Ç–æ—á–µ–Ω–æ –ø–æ–¥ –∏–≥—Ä—ã.

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–ß—Ç–æ —ç—Ç–æ –∏ –∑–∞—á–µ–º?](#-—á—Ç–æ-—ç—Ç–æ-–≤–æ–æ–±—â–µ-—Ç–∞–∫–æ–µ-–∏-–∑–∞—á–µ–º)
- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞](#-—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–ø–æ-—à–∞–≥–∞–º)
- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#-–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç-–¥–µ–ª–∞–µ–º-–ø–µ—Ä–≤—ã–π-—ç–∫—Ä–∞–Ω)
- [–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?](#-–∫–∞–∫-—ç—Ç–æ-—Ä–∞–±–æ—Ç–∞–µ—Ç-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
- [–≠–∫—Ä–∞–Ω—ã](#-—ç–∫—Ä–∞–Ω—ã-screens---–æ—Å–Ω–æ–≤–∞-–≤—Å–µ–≥–æ)
- [–ú–∞–∫–µ—Ç—ã](#-–º–∞–∫–µ—Ç—ã-layouts---—Ä–∞–∑–º–µ—Ç–∫–∞-—ç–∫—Ä–∞–Ω–æ–≤)
- [–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã](#-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã-components---–∫–∏—Ä–ø–∏—á–∏–∫–∏-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞)
- [–ê–Ω–∏–º–∞—Ü–∏–∏](#-–∞–Ω–∏–º–∞—Ü–∏–∏-–¥–µ–ª–∞–µ–º-–∫—Ä–∞—Å–∏–≤–æ)
- [–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏](#-–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ-–º–æ–¥—É–ª–∏-–≥–æ—Ç–æ–≤—ã–µ-—Ä–µ—à–µ–Ω–∏—è)
- [–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞](#Ô∏è-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã-—Ä–µ–¥–∞–∫—Ç–æ—Ä–∞)
- [–ü—Ä–∏–º–µ—Ä—ã](#-–ø—Ä–∏–º–µ—Ä—ã-–æ—Ç-–ø—Ä–æ—Å—Ç–æ–≥–æ-–∫-—Å–ª–æ–∂–Ω–æ–º—É)
- [–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º](#-—Ä–µ—à–µ–Ω–∏–µ-–ø—Ä–æ–±–ª–µ–º)

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–æ —à–∞–≥–∞–º

### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ Package Manager (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –û—Ç–∫—Ä–æ–π Unity
2. –ò–¥–∏ –≤ **Window ‚Üí Package Manager**
3. –ù–∞–∂–º–∏ **+** (–ø–ª—é—Å–∏–∫) –≤ –ª–µ–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É
4. –í—ã–±–µ—Ä–∏ **Add package from git URL**
5. –í—Å—Ç–∞–≤—å: `https://github.com/chromealex/UI.Windows-submodule.git`
6. –ù–∞–∂–º–∏ **Add**
7. –ü–æ–¥–æ–∂–¥–∏ –ø–æ–∫–∞ Unity –≤—Å—ë —É—Å—Ç–∞–Ω–æ–≤–∏—Ç

### –°–ø–æ—Å–æ–± 2: –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –°–∫–∞—á–∞–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∫–∞–∫ ZIP
2. –†–∞—Å–ø–∞–∫—É–π –≤ –ø–∞–ø–∫—É `Packages` —Ç–≤–æ–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
3. Unity –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Ö–≤–∞—Ç–∏—Ç –ø–∞–∫–µ—Ç

### –ß—Ç–æ –µ—â—ë –Ω—É–∂–Ω–æ?

–§—Ä–µ–π–º–≤–æ—Ä–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç —ç—Ç–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
- **Unity Addressables** (–¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ä–µ—Å—É—Ä—Å–æ–≤)
- **Unity Localization** (–¥–ª—è –º–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç–∏)
- **Unity UI Toolkit** (–¥–ª—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ UI)

–ù–µ –ø–∞–Ω–∏–∫—É–π, –µ—Å–ª–∏ –≤–∏–¥–∏—à—å –æ—à–∏–±–∫–∏ –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –ø–æ–∫–∞ —Ç—ã –Ω–µ –Ω–∞—Å—Ç—Ä–æ–∏—à—å —Å–∏—Å—Ç–µ–º—É.

## ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç - –¥–µ–ª–∞–µ–º –ø–µ—Ä–≤—ã–π —ç–∫—Ä–∞–Ω

### –®–∞–≥ 1: –°–æ–∑–¥–∞–π WindowSystem

–≠—Ç–æ –≥–ª–∞–≤–Ω—ã–π –º–æ–∑–≥ –≤—Å–µ–π UI-—Å–∏—Å—Ç–µ–º—ã. –ë–µ–∑ –Ω–µ–≥–æ –Ω–∏—á–µ–≥–æ —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ –±—É–¥–µ—Ç.

1. **–ü—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π** –≤ –∏–µ—Ä–∞—Ä—Ö–∏–∏ —Å—Ü–µ–Ω—ã
2. **Create Empty** (—Å–æ–∑–¥–∞–π –ø—É—Å—Ç–æ–π –æ–±—ä–µ–∫—Ç)
3. –ù–∞–∑–æ–≤–∏ –µ–≥–æ `WindowSystem`
4. –î–æ–±–∞–≤—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç **Window System** (–Ω–∞–π–¥–∏ —á–µ—Ä–µ–∑ Add Component)

–ò–ª–∏ –µ—â—ë –ø—Ä–æ—â–µ:
1. –í –º–µ–Ω—é Unity: **GameObject ‚Üí UI ‚Üí Window System**

### –®–∞–≥ 2: –°–æ–∑–¥–∞–π —Å–≤–æ–π –ø–µ—Ä–≤—ã–π —ç–∫—Ä–∞–Ω

–ò—Å–ø–æ–ª—å–∑—É–π –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –º–∞—Å—Ç–µ—Ä —Å–æ–∑–¥–∞–Ω–∏—è —ç–∫—Ä–∞–Ω–æ–≤:

1. **–ü—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π** –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞
2. **Create ‚Üí UI.Windows ‚Üí Screen**
3. –ù–∞–∑–æ–≤–∏ —ç–∫—Ä–∞–Ω, –Ω–∞–ø—Ä–∏–º–µ—Ä `MainMenuScreen`

**–í–ù–ò–ú–ê–ù–ò–ï!** –ú–∞—Å—Ç–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç:
- –°–∫—Ä–∏–ø—Ç —ç–∫—Ä–∞–Ω–∞ `MainMenuScreen.cs`
- –ü—Ä–µ—Ñ–∞–± –º–∞–∫–µ—Ç–∞ `MainMenuLayout.prefab`
- –ü–∞–ø–∫—É –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ `MainMenuComponents/`

### –®–∞–≥ 3: –ù–∞–ø–∏—à–∏ –∫–æ–¥ —ç–∫—Ä–∞–Ω–∞

–û—Ç–∫—Ä–æ–π —Å–æ–∑–¥–∞–Ω–Ω—ã–π —Ñ–∞–π–ª `MainMenuScreen.cs`:

```csharp
using UnityEngine;
using UnityEngine.UI.Windows;

public class MainMenuScreen : WindowBase
{
    // –ó–¥–µ—Å—å –º—ã —Å—Å—ã–ª–∞–µ–º—Å—è –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —ç–∫—Ä–∞–Ω–∞
    [SerializeField] private ButtonComponent playButton;
    [SerializeField] private ButtonComponent settingsButton;
    [SerializeField] private ButtonComponent exitButton;

    // –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ–≥–¥–∞ —ç–∫—Ä–∞–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–∫–∞–∑–∞–ª—Å—è
    public override void OnShowEnd()
    {
        // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –∫–Ω–æ–ø–∫—É "–ò–≥—Ä–∞—Ç—å"
        playButton.SetCallback(() => {
            Debug.Log("–ò–≥—Ä–æ–∫ –Ω–∞–∂–∞–ª –ò–≥—Ä–∞—Ç—å!");
            // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ —ç–∫—Ä–∞–Ω –∏–≥—Ä—ã
            // WindowSystem.Show<GameScreen>();
        });

        // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –∫–Ω–æ–ø–∫—É "–ù–∞—Å—Ç—Ä–æ–π–∫–∏"
        settingsButton.SetCallback(() => {
            Debug.Log("–û—Ç–∫—Ä—ã–≤–∞–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏!");
            // WindowSystem.Show<SettingsScreen>();
        });

        // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –∫–Ω–æ–ø–∫—É "–í—ã—Ö–æ–¥"
        exitButton.SetCallback(() => {
            Debug.Log("–í—ã—Ö–æ–¥–∏–º –∏–∑ –∏–≥—Ä—ã!");
            Application.Quit();
        });
    }
}
```

### –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π –º–∞–∫–µ—Ç

1. –û—Ç–∫—Ä–æ–π —Å–æ–∑–¥–∞–Ω–Ω—ã–π –ø—Ä–µ—Ñ–∞–± `MainMenuLayout.prefab`
2. –£–≤–∏–¥–∏—à—å Canvas —Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º **Window Layout**
3. –î–æ–±–∞–≤—å UI —ç–ª–µ–º–µ–Ω—Ç—ã (–∫–Ω–æ–ø–∫–∏, —Ç–µ–∫—Å—Ç, –∫–∞—Ä—Ç–∏–Ω–∫–∏)
4. –ü—Ä–µ–æ–±—Ä–∞–∑—É–π –æ–±—ã—á–Ω—ã–µ Button –≤ **ButtonComponent**:
   - –í—ã–±–µ—Ä–∏ –∫–Ω–æ–ø–∫—É
   - Add Component ‚Üí **Button Component**
   - –£–¥–∞–ª–∏ –æ–±—ã—á–Ω—ã–π Button
5. –ù–∞—Å—Ç—Ä–æ–π —Å—Å—ã–ª–∫–∏ –≤ **Window Layout** –Ω–∞ —Ç–≤–æ–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### –®–∞–≥ 5: –ü–æ–∫–∞–∂–∏ —ç–∫—Ä–∞–Ω

–í –ª—é–±–æ–º –º–µ—Å—Ç–µ –∫–æ–¥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ Start() –∫–∞–∫–æ–≥–æ-—Ç–æ —Å–∫—Ä–∏–ø—Ç–∞):

```csharp
using UnityEngine.UI.Windows;

public class GameStarter : MonoBehaviour
{
    void Start()
    {
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
        WindowSystem.Show<MainMenuScreen>();
    }
}
```

**–ü–û–ó–î–†–ê–í–õ–Ø–Æ!** –¢—ã —Å–æ–∑–¥–∞–ª —Å–≤–æ–π –ø–µ—Ä–≤—ã–π —ç–∫—Ä–∞–Ω —Å –ø–æ–º–æ—â—å—é UI.Windows!

## üèóÔ∏è –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç? (–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)

### –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è - —Ç—Ä—ë—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è –º–æ–¥–µ–ª—å

–ü—Ä–µ–¥—Å—Ç–∞–≤—å –º–Ω–æ–≥–æ—ç—Ç–∞–∂–Ω—ã–π –¥–æ–º:

#### üè¢ **–≠–∫—Ä–∞–Ω—ã (Screens)** - —ç—Ç–æ —ç—Ç–∞–∂–∏ –¥–æ–º–∞
- **–ß—Ç–æ —ç—Ç–æ?** –¶–µ–ª—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- **–ü—Ä–∏–º–µ—Ä—ã:** –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é, –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –¥–∏–∞–ª–æ–≥ —Å NPC
- **–û—Å–Ω–æ–≤–∞:** –ö–ª–∞—Å—Å `WindowBase`
- **–ó–∞—á–µ–º?** –£–ø—Ä–∞–≤–ª—è—é—Ç –ª–æ–≥–∏–∫–æ–π –≤—Å–µ–≥–æ —ç–∫—Ä–∞–Ω–∞, –ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏, —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º

```csharp
// –≠–∫—Ä–∞–Ω - —ç—Ç–æ –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω–∞—è –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü–∞
public class InventoryScreen : WindowBase
{
    // –õ–æ–≥–∏–∫–∞ –≤—Å–µ–≥–æ —ç–∫—Ä–∞–Ω–∞ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è
    public override void OnShowBegin()
    {
        LoadPlayerItems(); // –ó–∞–≥—Ä—É–∂–∞–µ–º –ø—Ä–µ–¥–º–µ—Ç—ã –∏–≥—Ä–æ–∫–∞
        UpdateGoldDisplay(); // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–æ–ª–æ—Ç–æ
    }
}
```

#### üè† **–ú–∞–∫–µ—Ç—ã (Layouts)** - —ç—Ç–æ –ø–ª–∞–Ω–∏—Ä–æ–≤–∫–∞ —ç—Ç–∞–∂–∞
- **–ß—Ç–æ —ç—Ç–æ?** Canvas —Å —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ–º —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- **–û—Å–Ω–æ–≤–∞:** –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `WindowLayout`
- **–ó–∞—á–µ–º?** –û–ø—Ä–µ–¥–µ–ª—è—é—Ç –≥–¥–µ —á—Ç–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Canvas, –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∑–æ–Ω—ã

```csharp
// –ú–∞–∫–µ—Ç - —ç—Ç–æ –∫–∞–∫ HTML-—Ä–∞–∑–º–µ—Ç–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
// –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ Unity –∫–∞–∫ –ø—Ä–µ—Ñ–∞–±
// –°–æ–¥–µ—Ä–∂–∏—Ç Canvas, CanvasScaler, WindowLayout
```

#### ü™ë **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (Components)** - —ç—Ç–æ –º–µ–±–µ–ª—å –≤ –∫–æ–º–Ω–∞—Ç–∞—Ö
- **–ß—Ç–æ —ç—Ç–æ?** –û—Ç–¥–µ–ª—å–Ω—ã–µ UI —ç–ª–µ–º–µ–Ω—Ç—ã
- **–ü—Ä–∏–º–µ—Ä—ã:** –ö–Ω–æ–ø–∫–∏, —Ç–µ–∫—Å—Ç, –∫–∞—Ä—Ç–∏–Ω–∫–∏, —Å–ø–∏—Å–∫–∏, —Å–ª–∞–π–¥–µ—Ä—ã
- **–û—Å–Ω–æ–≤–∞:** –ö–ª–∞—Å—Å `WindowComponent`
- **–ó–∞—á–µ–º?** –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫—É—Å–æ—á–∫–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —Å –ª–æ–≥–∏–∫–æ–π

```csharp
// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç - —ç—Ç–æ –∫–∞–∫ —ç–ª–µ–º–µ–Ω—Ç –Ω–∞ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü–µ
public class InventorySlotComponent : WindowComponent
{
    // –õ–æ–≥–∏–∫–∞ –æ–¥–Ω–æ–≥–æ —Å–ª–æ—Ç–∞ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è
    public void SetItem(Item item)
    {
        icon.sprite = item.icon;
        nameText.text = item.name;
    }
}
```

### –ö–∞–∫ –æ–Ω–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—Ç?

```
WindowSystem (–≥–ª–∞–≤–Ω—ã–π –º–æ–∑–≥)
    ‚Üì
MainMenuScreen (—ç–∫—Ä–∞–Ω)
    ‚Üì
MainMenuLayout (–º–∞–∫–µ—Ç - Canvas —Å –∫–Ω–æ–ø–∫–∞–º–∏)
    ‚Üì
ButtonComponent, TextComponent (–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)
```

**–í —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏:**
1. **WindowSystem** —É–ø—Ä–∞–≤–ª—è–µ—Ç –≤—Å–µ–º–∏ —ç–∫—Ä–∞–Ω–∞–º–∏
2. **Screen** —Å–æ–¥–µ—Ä–∂–∏—Ç –ª–æ–≥–∏–∫—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã
3. **Layout** —Å–æ–¥–µ—Ä–∂–∏—Ç –≤–∏–∑—É–∞–ª—å–Ω—É—é —Ä–∞–∑–º–µ—Ç–∫—É
4. **Components** - —ç—Ç–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã

## üñ•Ô∏è –≠–∫—Ä–∞–Ω—ã (Screens) - –æ—Å–Ω–æ–≤–∞ –≤—Å–µ–≥–æ

### –ß—Ç–æ —Ç–∞–∫–æ–µ —ç–∫—Ä–∞–Ω?

**–≠–∫—Ä–∞–Ω** - —ç—Ç–æ –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏. –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é - —ç–∫—Ä–∞–Ω, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ - —ç–∫—Ä–∞–Ω, –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å - —ç–∫—Ä–∞–Ω, –¥–∏–∞–ª–æ–≥ —Å NPC - —Ç–æ–∂–µ —ç–∫—Ä–∞–Ω.

### –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª —ç–∫—Ä–∞–Ω–∞

–ö–∞–∂–¥—ã–π —ç–∫—Ä–∞–Ω –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ —ç—Ç–∞–ø—ã:

```csharp
public class MyScreen : WindowBase
{
    // 1. –≠–∫—Ä–∞–Ω —Å–æ–∑–¥–∞–ª—Å—è, –Ω–æ –µ—â—ë –Ω–µ –≤–∏–¥–∏–º
    public override void OnInitialize()
    {
        Debug.Log("–≠–∫—Ä–∞–Ω —Å–æ–∑–¥–∞–ª—Å—è, –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –Ω–∞—á–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è");
    }

    // 2. –ù–∞—á–∏–Ω–∞–µ–º –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —ç–∫—Ä–∞–Ω (–∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –∞–Ω–∏–º–∞—Ü–∏–∏ –ø–æ—è–≤–ª–µ–Ω–∏—è)
    public override void OnShowBegin()
    {
        Debug.Log("–ù–∞—á–∏–Ω–∞–µ–º –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —ç–∫—Ä–∞–Ω");
        LoadData(); // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ
    }

    // 3. –≠–∫—Ä–∞–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–∫–∞–∑–∞–ª—Å—è
    public override void OnShowEnd()
    {
        Debug.Log("–≠–∫—Ä–∞–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤–∏–¥–∏–º, –º–æ–∂–Ω–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å");
        SetupButtons(); // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –∫–Ω–æ–ø–∫–∏
    }

    // 4. –ù–∞—á–∏–Ω–∞–µ–º —Å–∫—Ä—ã–≤–∞—Ç—å —ç–∫—Ä–∞–Ω
    public override void OnHideBegin()
    {
        Debug.Log("–ù–∞—á–∏–Ω–∞–µ–º —Å–∫—Ä—ã–≤–∞—Ç—å —ç–∫—Ä–∞–Ω");
        SaveData(); // –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ
    }

    // 5. –≠–∫—Ä–∞–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–∫—Ä—ã–ª—Å—è
    public override void OnHideEnd()
    {
        Debug.Log("–≠–∫—Ä–∞–Ω —Å–∫—Ä—ã–ª—Å—è, –æ—Å–≤–æ–±–æ–∂–¥–∞–µ–º —Ä–µ—Å—É—Ä—Å—ã");
        CleanupData();
    }
}
```

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã —ç–∫—Ä–∞–Ω–∞

#### –ù–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏

```csharp
public class MainMenuScreen : WindowBase
{
    public void OnPlayButtonClick()
    {
        // –ü–æ–∫–∞–∑–∞—Ç—å —ç–∫—Ä–∞–Ω –∏–≥—Ä—ã
        WindowSystem.Show<GameScreen>();
        
        // –°–∫—Ä—ã—Ç—å —Ç–µ–∫—É—â–∏–π —ç–∫—Ä–∞–Ω
        WindowSystem.Hide<MainMenuScreen>();
        
        // –ò–ª–∏ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π - —Å–∫—Ä—ã—Ç—å —Ç–µ–∫—É—â–∏–π –∏ –ø–æ–∫–∞–∑–∞—Ç—å –Ω–æ–≤—ã–π
        WindowSystem.Show<GameScreen>();
        WindowSystem.Hide(this);
    }

    public void OnSettingsButtonClick()
    {
        // –ü–æ–∫–∞–∑–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–≤–µ—Ä—Ö –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é (–∫–∞–∫ –æ–≤–µ—Ä–ª–µ–π)
        var parameters = new ScreenItem().SetAsOverlay(true);
        WindowSystem.Show<SettingsScreen>(parameters);
    }
}
```

#### –ü–µ—Ä–µ–¥–∞—á–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏

```csharp
// –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
public void OpenShop()
{
    var shopData = new ShopParameters 
    { 
        shopType = ShopType.Weapons,
        playerGold = 1000 
    };
    
    var parameters = new ScreenItem().SetParameters(shopData);
    WindowSystem.Show<ShopScreen>(parameters);
}

// –ü–æ–ª—É—á–∞–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
public class ShopScreen : WindowBase
{
    public override void OnParametersPass(ScreenItem item)
    {
        var shopData = item.GetParameter<ShopParameters>();
        SetupShop(shopData.shopType);
        UpdateGoldDisplay(shopData.playerGold);
    }
}
```

### –°–æ—Å—Ç–æ—è–Ω–∏—è —ç–∫—Ä–∞–Ω–∞

–ö–∞–∂–¥—ã–π —ç–∫—Ä–∞–Ω –∏–º–µ–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ:

- **NotInitialized** - —ç–∫—Ä–∞–Ω –µ—â—ë –Ω–µ —Å–æ–∑–¥–∞–Ω
- **Initializing** - —ç–∫—Ä–∞–Ω —Å–æ–∑–¥–∞—ë—Ç—Å—è
- **Showing** - —ç–∫—Ä–∞–Ω –ø–æ—è–≤–ª—è–µ—Ç—Å—è (–∏–¥—ë—Ç –∞–Ω–∏–º–∞—Ü–∏—è)
- **Shown** - —ç–∫—Ä–∞–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤–∏–¥–∏–º
- **Hiding** - —ç–∫—Ä–∞–Ω –∏—Å—á–µ–∑–∞–µ—Ç (–∏–¥—ë—Ç –∞–Ω–∏–º–∞—Ü–∏—è)
- **Hidden** - —ç–∫—Ä–∞–Ω —Å–∫—Ä—ã—Ç

```csharp
// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ —ç–∫—Ä–∞–Ω–∞
if (WindowSystem.GetScreen<MainMenuScreen>().GetState() == ObjectState.Shown)
{
    Debug.Log("–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –≤–∏–¥–∏–º–æ");
}

// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç—å —ç–∫—Ä–∞–Ω–∞
if (WindowSystem.IsVisible<MainMenuScreen>())
{
    Debug.Log("–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –≤–∏–¥–∏–º–æ");
}
```

## üé® –ú–∞–∫–µ—Ç—ã (Layouts) - —Ä–∞–∑–º–µ—Ç–∫–∞ —ç–∫—Ä–∞–Ω–æ–≤

### –ß—Ç–æ —Ç–∞–∫–æ–µ –º–∞–∫–µ—Ç?

**–ú–∞–∫–µ—Ç** - —ç—Ç–æ –ø—Ä–µ—Ñ–∞–± —Å Canvas, –∫–æ—Ç–æ—Ä—ã–π –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç —ç–∫—Ä–∞–Ω. –≠—Ç–æ –∫–∞–∫ HTML-—Å—Ç—Ä–∞–Ω–∏—Ü–∞ - —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä–∞–∑–º–µ—Ç–∫—É, –Ω–æ –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –ª–æ–≥–∏–∫—É.

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–∞–∫–µ—Ç–∞

–¢–∏–ø–∏—á–Ω—ã–π –º–∞–∫–µ—Ç –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:

```
MainMenuLayout (–ø—Ä–µ—Ñ–∞–±)
‚îú‚îÄ‚îÄ Canvas
‚îÇ   ‚îú‚îÄ‚îÄ WindowLayout (–∫–æ–º–ø–æ–Ω–µ–Ω—Ç)
‚îÇ   ‚îú‚îÄ‚îÄ Background (Image)
‚îÇ   ‚îú‚îÄ‚îÄ Title (Text)
‚îÇ   ‚îú‚îÄ‚îÄ ButtonsPanel
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PlayButton (ButtonComponent)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SettingsButton (ButtonComponent)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ExitButton (ButtonComponent)
‚îÇ   ‚îî‚îÄ‚îÄ Footer (Text)
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–∞–∫–µ—Ç–∞

1. **–°–æ–∑–¥–∞–π –º–∞–∫–µ—Ç** —á–µ—Ä–µ–∑ –º–∞—Å—Ç–µ—Ä –∏–ª–∏ –≤—Ä—É—á–Ω—É—é
2. **–î–æ–±–∞–≤—å Canvas** –µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç
3. **–î–æ–±–∞–≤—å WindowLayout** –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–∞ Canvas
4. **–ù–∞—Å—Ç—Ä–æ–π Canvas:**
   - Render Mode (–æ–±—ã—á–Ω–æ Screen Space - Overlay)
   - Canvas Scaler –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
   - Sorting Order –¥–ª—è —Å–ª–æ—ë–≤

### WindowLayout –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

–≠—Ç–æ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —É–ø—Ä–∞–≤–ª—è–µ—Ç –º–∞–∫–µ—Ç–æ–º:

```csharp
public class WindowLayout : MonoBehaviour
{
    // –°—Å—ã–ª–∫–∏ –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —ç–∫—Ä–∞–Ω–∞
    [SerializeField] private WindowComponent[] components;
    
    // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Canvas
    [SerializeField] private Canvas canvas;
    [SerializeField] private CanvasScaler canvasScaler;
    
    // –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∑–æ–Ω—ã –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
    [SerializeField] private WindowLayoutSafeZone safeZone;
}
```

### –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∑–æ–Ω—ã

–î–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –≤–∞–∂–Ω–æ —É—á–∏—Ç—ã–≤–∞—Ç—å –≤—ã—Ä–µ–∑—ã —ç–∫—Ä–∞–Ω–∞ (notch):

```csharp
// WindowLayoutSafeZone –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç UI
// –ø–æ–¥ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∑–æ–Ω—ã iPhone X+ –∏ Android —Å –≤—ã—Ä–µ–∑–∞–º–∏
```

### –°–ª–æ–∏ –∏ –ø–æ—Ä—è–¥–æ–∫ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è

```csharp
// –í WindowSystem –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–ª–æ–∏
var parameters = new ScreenItem()
    .SetLayer(0)        // –§–æ–Ω–æ–≤—ã–π —Å–ª–æ–π
    .SetDepth(100);     // –ì–ª—É–±–∏–Ω–∞ –≤ —Å–ª–æ–µ

WindowSystem.Show<BackgroundScreen>(parameters);

var parameters2 = new ScreenItem()
    .SetLayer(1)        // –û—Å–Ω–æ–≤–Ω–æ–π UI —Å–ª–æ–π
    .SetDepth(200);     

WindowSystem.Show<MainMenuScreen>(parameters2);

var parameters3 = new ScreenItem()
    .SetLayer(2)        // –û–≤–µ—Ä–ª–µ–∏
    .SetDepth(300);

WindowSystem.Show<SettingsScreen>(parameters3);
```

## üß© –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (Components) - –∫–∏—Ä–ø–∏—á–∏–∫–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

### –ß—Ç–æ —Ç–∞–∫–æ–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç?

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç** - —ç—Ç–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π —ç–ª–µ–º–µ–Ω—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞. –ö–Ω–æ–ø–∫–∞, —Ç–µ–∫—Å—Ç, –∫–∞—Ä—Ç–∏–Ω–∫–∞, —Å–ª–∞–π–¥–µ—Ä - –≤—Å—ë —ç—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã. –ì–ª–∞–≤–Ω–∞—è —Ñ–∏—á–∞ - –æ–Ω–∏ —É–º–Ω—ã–µ –∏ —Å–æ–¥–µ—Ä–∂–∞—Ç –ª–æ–≥–∏–∫—É.

### –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### üîò ButtonComponent - —É–º–Ω–∞—è –∫–Ω–æ–ø–∫–∞

```csharp
public class MenuButtonComponent : ButtonComponent
{
    // –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ–º –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∫–ª–∏–∫–∞
    public override void OnClick()
    {
        Debug.Log("–ö–Ω–æ–ø–∫–∞ –Ω–∞–∂–∞—Ç–∞!");
        
        // –ü–æ–ª—É—á–∞–µ–º –¥–æ—Å—Ç—É–ø –∫ —ç–∫—Ä–∞–Ω—É
        var screen = GetWindow<MainMenuScreen>();
        screen.OnButtonClicked();
    }

    // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–Ω–æ–ø–∫–∏ –∏–∑ –∫–æ–¥–∞
    public void Setup()
    {
        SetText("–ò–≥—Ä–∞—Ç—å");
        SetInteractable(true);
        SetCallback(() => Debug.Log("Callback —Å—Ä–∞–±–æ—Ç–∞–ª!"));
    }

    // –†–µ–∞–∫—Ü–∏—è –Ω–∞ –Ω–∞–≤–µ–¥–µ–Ω–∏–µ –º—ã—à–∏
    protected override void OnHover()
    {
        // –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏
        transform.localScale = Vector3.one * 1.1f;
    }

    protected override void OnUnhover()
    {
        // –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ä–∞–∑–º–µ—Ä
        transform.localScale = Vector3.one;
    }
}
```

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫:**
- **ButtonLongPressComponentModule** - –¥–æ–ª–≥–æ–µ –Ω–∞–∂–∞—Ç–∏–µ
- **DoublePressComponentModule** - –¥–≤–æ–π–Ω–æ–π –∫–ª–∏–∫  
- **HoverComponentModule** - —ç—Ñ—Ñ–µ–∫—Ç—ã –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏
- **PlaySfxOnClickComponentModule** - –∑–≤—É–∫ –ø—Ä–∏ –∫–ª–∏–∫–µ

#### üìù TextComponent - —É–º–Ω—ã–π —Ç–µ–∫—Å—Ç

```csharp
public class ScoreTextComponent : TextComponent
{
    public void SetScore(int score)
    {
        SetText($"–û—á–∫–∏: {score}");
    }

    public void AnimateScore(int newScore)
    {
        // –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —á–∏—Å–ª–∞
        var module = GetModule<TextComponentModuleAnimateValue>();
        module.AnimateToValue(newScore, 1f); // –∑–∞ 1 —Å–µ–∫—É–Ω–¥—É
    }

    public void SetLocalizedText(string key)
    {
        // –õ–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç
        var locModule = GetModule<TextLocalizationComponentModule>();
        locModule.SetLocalizedKey(key);
    }
}
```

#### üñºÔ∏è ImageComponent - —É–º–Ω–∞—è –∫–∞—Ä—Ç–∏–Ω–∫–∞

```csharp
public class ItemIconComponent : ImageComponent
{
    public void LoadItemIcon(string itemId)
    {
        // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–ø—Ä–∞–π—Ç –∏–∑ —Ä–µ—Å—É—Ä—Å–æ–≤
        var resourceModule = GetModule<ResourceSpriteLoadModule>();
        resourceModule.LoadSprite($"Items/{itemId}_icon");
    }

    public void SetColor(Color color)
    {
        GetComponent<Image>().color = color;
    }

    public void FadeIn(float duration = 0.5f)
    {
        // –ü–ª–∞–≤–Ω–æ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ
        var image = GetComponent<Image>();
        var color = image.color;
        color.a = 0f;
        image.color = color;

        Tweener.DoFloat(0f, 1f, duration, (alpha) => {
            color.a = alpha;
            image.color = color;
        });
    }
}
```

#### üìã ListComponent - —É–º–Ω—ã–π —Å–ø–∏—Å–æ–∫

–≠—Ç–æ —Å–∞–º—ã–π –º–æ—â–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç - —É–º–µ–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏ –¥–∞–Ω–Ω—ã—Ö:

```csharp
// –î–∞–Ω–Ω—ã–µ –¥–ª—è —Å–ø–∏—Å–∫–∞
[System.Serializable]
public class InventoryItem
{
    public string name;
    public Sprite icon;
    public int count;
    public bool isUsable;
}

// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–ø–∏—Å–∫–∞
public class InventoryListComponent : ListComponent<InventoryItem>
{
    // –ü—Ä–∏–≤—è–∑—ã–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∫ —ç–ª–µ–º–µ–Ω—Ç—É —Å–ø–∏—Å–∫–∞
    protected override void OnDataBind(InventoryItem item, int index)
    {
        // –ü–æ–ª—É—á–∞–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —ç–ª–µ–º–µ–Ω—Ç–∞ —Å–ø–∏—Å–∫–∞ –ø–æ –∏–Ω–¥–µ–∫—Å—É
        var slot = GetComponentAtIndex<InventorySlotComponent>(index);
        
        // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç
        slot.SetItem(item);
        slot.SetClickCallback(() => UseItem(item));
    }

    // –û–±–Ω–æ–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ —Å–ø–∏—Å–∫–∞
    public void RefreshInventory()
    {
        var playerItems = GameManager.GetPlayerItems();
        SetData(playerItems); // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–∏—Ç –≤–µ—Å—å —Å–ø–∏—Å–æ–∫
    }

    private void UseItem(InventoryItem item)
    {
        if (!item.isUsable) return;
        
        GameManager.UseItem(item);
        RefreshInventory(); // –û–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫
    }
}

// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —ç–ª–µ–º–µ–Ω—Ç–∞ —Å–ø–∏—Å–∫–∞
public class InventorySlotComponent : WindowComponent
{
    [SerializeField] private ImageComponent itemIcon;
    [SerializeField] private TextComponent itemName;
    [SerializeField] private TextComponent itemCount;
    [SerializeField] private ButtonComponent useButton;

    public void SetItem(InventoryItem item)
    {
        itemIcon.SetSprite(item.icon);
        itemName.SetText(item.name);
        itemCount.SetText(item.count.ToString());
        useButton.SetInteractable(item.isUsable);
    }

    public void SetClickCallback(System.Action callback)
    {
        useButton.SetCallback(callback);
    }
}
```

**–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ ListComponent:**
- **–ë–µ—Å–∫–æ–Ω–µ—á–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞** - `ListEndlessComponentModule`
- **–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤** - `ListArrangementComponentModule`
- **–ß–µ–∫–±–æ–∫—Å—ã –≤ —Å–ø–∏—Å–∫–µ** - `ListCheckboxGroupModule`
- **Swipe –∂–µ—Å—Ç—ã** - `CircleSwipeComponentModule`

#### üéõÔ∏è –î—Ä—É–≥–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

**InputFieldComponent** - –ø–æ–ª–µ –≤–≤–æ–¥–∞:
```csharp
public class PlayerNameInputComponent : InputFieldComponent
{
    protected override void OnValueChanged(string newValue)
    {
        // –í–∞–ª–∏–¥–∞—Ü–∏—è –∏–º–µ–Ω–∏
        if (newValue.Length > 20)
        {
            SetText(newValue.Substring(0, 20));
        }
    }
}
```

**ProgressComponent** - –ø–æ–ª–æ—Å–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞:
```csharp
public class HealthBarComponent : ProgressComponent
{
    public void SetHealth(float health, float maxHealth)
    {
        float percentage = health / maxHealth;
        SetValue(percentage);
        
        // –ú–µ–Ω—è–µ–º —Ü–≤–µ—Ç –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∑–¥–æ—Ä–æ–≤—å—è
        if (percentage < 0.3f)
            SetColor(Color.red);
        else if (percentage < 0.6f)
            SetColor(Color.yellow);
        else
            SetColor(Color.green);
    }
}
```

**DropdownComponent** - –≤—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫:
```csharp
public class LanguageDropdownComponent : DropdownComponent
{
    public override void OnInitialize()
    {
        var languages = new[] { "–†—É—Å—Å–∫–∏–π", "English", "Deutsch" };
        SetOptions(languages);
        
        SetCallback((selectedIndex) => {
            ChangeLanguage(selectedIndex);
        });
    }
}
```

### –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

```csharp
// –ë–∞–∑–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
public class CustomSliderComponent : WindowComponent
{
    [SerializeField] private Slider slider;
    [SerializeField] private TextComponent valueText;

    private System.Action<float> onValueChanged;

    public override void OnInitialize()
    {
        slider.onValueChanged.AddListener(OnSliderChanged);
    }

    public void SetValue(float value)
    {
        slider.value = value;
        UpdateValueText();
    }

    public void SetCallback(System.Action<float> callback)
    {
        onValueChanged = callback;
    }

    private void OnSliderChanged(float value)
    {
        UpdateValueText();
        onValueChanged?.Invoke(value);
    }

    private void UpdateValueText()
    {
        valueText.SetText($"{slider.value:F1}");
    }
}
```

### –ú–æ–¥—É–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä—è—Ç—å –º–æ–¥—É–ª—è–º–∏:

```csharp
// –ú–æ–¥—É–ª—å –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
public class ButtonSoundModule : WindowComponentModule
{
    [SerializeField] private AudioClip clickSound;
    [SerializeField] private AudioClip hoverSound;

    public override void OnInitialize()
    {
        // –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ–º—Å—è –Ω–∞ —Å–æ–±—ã—Ç–∏—è –∫–Ω–æ–ø–∫–∏
        var button = GetComponent<ButtonComponent>();
        button.OnClickEvent += PlayClickSound;
        button.OnHoverEvent += PlayHoverSound;
    }

    private void PlayClickSound()
    {
        AudioSource.PlayClipAtPoint(clickSound, Vector3.zero);
    }

    private void PlayHoverSound()
    {
        AudioSource.PlayClipAtPoint(hoverSound, Vector3.zero);
    }
}
```

## üé¨ –ê–Ω–∏–º–∞—Ü–∏–∏ - –¥–µ–ª–∞–µ–º –∫—Ä–∞—Å–∏–≤–æ

### –ó–∞—á–µ–º –Ω—É–∂–Ω—ã –∞–Ω–∏–º–∞—Ü–∏–∏?

–ê–Ω–∏–º–∞—Ü–∏–∏ –¥–µ–ª–∞—é—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∂–∏–≤—ã–º –∏ –ø—Ä–∏—è—Ç–Ω—ã–º. –≠–∫—Ä–∞–Ω—ã –ø–ª–∞–≤–Ω–æ –ø–æ—è–≤–ª—è—é—Ç—Å—è –∏ –∏—Å—á–µ–∑–∞—é—Ç, –∫–Ω–æ–ø–∫–∏ —Ä–µ–∞–≥–∏—Ä—É—é—Ç –Ω–∞ –Ω–∞–∂–∞—Ç–∏—è, —ç–ª–µ–º–µ–Ω—Ç—ã –¥–≤–∏–≥–∞—é—Ç—Å—è –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ.

### –°–∏—Å—Ç–µ–º–∞ –∞–Ω–∏–º–∞—Ü–∏–æ–Ω–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

UI.Windows –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **AnimationParameters** - –≥–æ—Ç–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–Ω–∏–º–∞—Ü–∏–π:

```csharp
[System.Serializable]
public class MyComponentAnimation
{
    [AnimationParameters] // –≠—Ç–æ—Ç –∞—Ç—Ä–∏–±—É—Ç —Å–æ–∑–¥–∞—ë—Ç –∫—Ä–∞—Å–∏–≤—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä
    public AnimationParameters showAnimation;
    
    [AnimationParameters]
    public AnimationParameters hideAnimation;
    
    [AnimationParameters]
    public AnimationParameters clickAnimation;
}
```

–í –∏–Ω—Å–ø–µ–∫—Ç–æ—Ä–µ —ç—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ —É–¥–æ–±–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏.

### –¢–∏–ø—ã –∞–Ω–∏–º–∞—Ü–∏–π

#### üåä –ê–ª—å—Ñ–∞ (–ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å) –∞–Ω–∏–º–∞—Ü–∏–∏

```csharp
public class FadeButtonComponent : ButtonComponent
{
    public void FadeIn()
    {
        // –°–æ–∑–¥–∞—ë–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∞–Ω–∏–º–∞—Ü–∏–∏ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏
        var fadeParams = new AlphaAnimationParameters()
        {
            from = 0f,           // –ù–∞—á–∞–ª—å–Ω–∞—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å
            to = 1f,             // –ö–æ–Ω–µ—á–Ω–∞—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å
            duration = 0.5f,     // –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
            easing = Ease.OutCubic // –¢–∏–ø –∫—Ä–∏–≤–æ–π –∞–Ω–∏–º–∞—Ü–∏–∏
        };
        
        // –ó–∞–ø—É—Å–∫–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é
        RunAnimation(fadeParams);
    }

    public void FadeOut()
    {
        var fadeParams = new AlphaAnimationParameters()
        {
            from = 1f,
            to = 0f,
            duration = 0.3f,
            easing = Ease.InCubic
        };
        
        RunAnimation(fadeParams);
    }
}
```

#### üìê Rect (—Ä–∞–∑–º–µ—Ä –∏ –ø–æ–∑–∏—Ü–∏—è) –∞–Ω–∏–º–∞—Ü–∏–∏

```csharp
public class SlideMenuComponent : WindowComponent
{
    public void SlideInFromLeft()
    {
        var rectParams = new RectAnimationParameters()
        {
            from = new Vector2(-300f, 0f), // –ù–∞—á–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è (—Å–ª–µ–≤–∞ –æ—Ç —ç–∫—Ä–∞–Ω–∞)
            to = Vector2.zero,             // –ö–æ–Ω–µ—á–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è (—Ü–µ–Ω—Ç—Ä)
            duration = 0.4f,
            easing = Ease.OutBack          // –≠—Ñ—Ñ–µ–∫—Ç "–æ—Ç—Å–∫–æ–∫–∞"
        };
        
        RunAnimation(rectParams);
    }

    public void ScaleUp()
    {
        var scaleParams = new RectAnimationParameters()
        {
            animationType = RectAnimationType.Scale, // –ê–Ω–∏–º–∏—Ä—É–µ–º –º–∞—Å—à—Ç–∞–±
            from = Vector2.zero,                     // –ù–∞—á–∞–ª—å–Ω—ã–π –º–∞—Å—à—Ç–∞–±
            to = Vector2.one,                        // –ö–æ–Ω–µ—á–Ω—ã–π –º–∞—Å—à—Ç–∞–±
            duration = 0.3f,
            easing = Ease.OutBounce
        };
        
        RunAnimation(scaleParams);
    }
}
```

### –°–æ—Å—Ç–æ—è–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏

–ö–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏–º–µ–µ—Ç 4 —Å–æ—Å—Ç–æ—è–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏:

- **Show** - –∞–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è
- **Hide** - –∞–Ω–∏–º–∞—Ü–∏—è –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è  
- **Reset** - —Å–±—Ä–æ—Å –∫ –Ω–∞—á–∞–ª—å–Ω–æ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é
- **Current** - —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

```csharp
public class AnimatedComponent : WindowComponent
{
    [SerializeField] private AnimationParameters showAnimation;
    [SerializeField] private AnimationParameters hideAnimation;

    public override void OnShowBegin()
    {
        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è
        RunAnimation(showAnimation);
    }

    public override void OnHideBegin()
    {
        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–Ω–∏–º–∞—Ü–∏—è –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è
        RunAnimation(hideAnimation);
    }
}
```

### Tweener - –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏

–î–ª—è –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã—Ö –∞–Ω–∏–º–∞—Ü–∏–π –∏—Å–ø–æ–ª—å–∑—É–π –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π **Tweener**:

```csharp
public class ComplexAnimationComponent : WindowComponent
{
    public void DoComplexAnimation()
    {
        // –ê–Ω–∏–º–∞—Ü–∏—è —á–∏—Å–ª–∞ —Å –∫–æ–ª–±—ç–∫–æ–º
        Tweener.DoFloat(0f, 100f, 2f, (value) => {
            scoreText.text = $"–û—á–∫–∏: {value:F0}";
        }).SetEase(Ease.OutCubic);

        // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ–∑–∏—Ü–∏–∏
        var targetPos = new Vector3(100f, 50f, 0f);
        Tweener.DoVector3(transform.position, targetPos, 1f, (pos) => {
            transform.position = pos;
        }).SetEase(Ease.InOutSine);

        // –ê–Ω–∏–º–∞—Ü–∏—è —Ü–≤–µ—Ç–∞
        var targetColor = Color.red;
        Tweener.DoColor(Color.white, targetColor, 0.5f, (color) => {
            GetComponent<Image>().color = color;
        });

        // –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∞–Ω–∏–º–∞—Ü–∏–π
        Tweener.DoFloat(0f, 1f, 0.5f, (value) => {
            // –ü–µ—Ä–≤–∞—è –∞–Ω–∏–º–∞—Ü–∏—è
        }).SetOnComplete(() => {
            // –ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–π –∑–∞–ø—É—Å–∫–∞–µ–º –≤—Ç–æ—Ä—É—é
            Tweener.DoFloat(1f, 0f, 0.5f, (value) => {
                // –í—Ç–æ—Ä–∞—è –∞–Ω–∏–º–∞—Ü–∏—è
            });
        });
    }
}
```

### –ö—Ä–∏–≤—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏ (Easing)

UI.Windows –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ç–∏–ø–æ–≤ –∫—Ä–∏–≤—ã—Ö:

```csharp
// –ë–∞–∑–æ–≤—ã–µ –∫—Ä–∏–≤—ã–µ
Ease.Linear        // –†–∞–≤–Ω–æ–º–µ—Ä–Ω–æ
Ease.InCubic       // –ú–µ–¥–ª–µ–Ω–Ω—ã–π —Å—Ç–∞—Ä—Ç
Ease.OutCubic      // –ú–µ–¥–ª–µ–Ω–Ω—ã–π —Ñ–∏–Ω–∏—à
Ease.InOutCubic    // –ú–µ–¥–ª–µ–Ω–Ω—ã–π —Å—Ç–∞—Ä—Ç –∏ —Ñ–∏–Ω–∏—à

// –≠—Ñ—Ñ–µ–∫—Ç–Ω—ã–µ –∫—Ä–∏–≤—ã–µ
Ease.OutBounce     // –û—Ç—Å–∫–æ–∫ –≤ –∫–æ–Ω—Ü–µ
Ease.OutBack       // –ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ –∏ –≤–æ–∑–≤—Ä–∞—Ç
Ease.OutElastic    // –ü—Ä—É–∂–∏–Ω–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç

// –ò –º–Ω–æ–≥–æ –¥—Ä—É–≥–∏—Ö...
```

### –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã –∞–Ω–∏–º–∞—Ü–∏–π

#### –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ —ç–∫—Ä–∞–Ω–∞

```csharp
public class AnimatedScreen : WindowBase
{
    [SerializeField] private RectTransform contentPanel;

    public override void OnShowBegin()
    {
        // –≠–∫—Ä–∞–Ω –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Å–Ω–∏–∑—É
        contentPanel.anchoredPosition = new Vector2(0, -1000f);
        
        Tweener.DoVector2(
            new Vector2(0, -1000f), 
            Vector2.zero, 
            0.5f, 
            (pos) => contentPanel.anchoredPosition = pos
        ).SetEase(Ease.OutBack);
    }

    public override void OnHideBegin()
    {
        // –≠–∫—Ä–∞–Ω —É—Ö–æ–¥–∏—Ç –≤–≤–µ—Ä—Ö
        Tweener.DoVector2(
            contentPanel.anchoredPosition,
            new Vector2(0, 1000f),
            0.3f,
            (pos) => contentPanel.anchoredPosition = pos
        ).SetEase(Ease.InBack).SetOnComplete(() => {
            // –£–≤–µ–¥–æ–º–ª—è–µ–º —Å–∏—Å—Ç–µ–º—É —á—Ç–æ –∞–Ω–∏–º–∞—Ü–∏—è –∑–∞–∫–æ–Ω—á–µ–Ω–∞
            OnHideEnd();
        });
    }
}
```

#### –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–Ω–æ–ø–∫–∞

```csharp
public class AnimatedButtonComponent : ButtonComponent
{
    private Vector3 originalScale;

    public override void OnInitialize()
    {
        originalScale = transform.localScale;
    }

    public override void OnClick()
    {
        // –ê–Ω–∏–º–∞—Ü–∏—è –Ω–∞–∂–∞—Ç–∏—è
        transform.localScale = originalScale * 0.9f;
        
        Tweener.DoVector3(
            originalScale * 0.9f,
            originalScale,
            0.1f,
            (scale) => transform.localScale = scale
        ).SetEase(Ease.OutBounce);

        base.OnClick();
    }

    protected override void OnHover()
    {
        // –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏
        Tweener.DoVector3(
            transform.localScale,
            originalScale * 1.1f,
            0.2f,
            (scale) => transform.localScale = scale
        );
    }

    protected override void OnUnhover()
    {
        // –í–æ–∑–≤—Ä–∞—Ç –∫ –∏—Å—Ö–æ–¥–Ω–æ–º—É —Ä–∞–∑–º–µ—Ä—É
        Tweener.DoVector3(
            transform.localScale,
            originalScale,
            0.2f,
            (scale) => transform.localScale = scale
        );
    }
}
```

#### –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø–æ–ª–æ—Å–∞ –∑–¥–æ—Ä–æ–≤—å—è

```csharp
public class AnimatedHealthBarComponent : WindowComponent
{
    [SerializeField] private Image healthFill;
    [SerializeField] private Image damageFill; // –ö—Ä–∞—Å–Ω–∞—è –ø–æ–ª–æ—Å–∞ –ø–æ–∫–∞–∑—ã–≤–∞—é—â–∞—è —É—Ä–æ–Ω
    [SerializeField] private TextComponent healthText;

    public void SetHealth(float health, float maxHealth, bool animate = true)
    {
        float targetFill = health / maxHealth;
        
        if (animate)
        {
            // –ê–Ω–∏–º–∏—Ä—É–µ–º –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ
            Tweener.DoFloat(
                healthFill.fillAmount,
                targetFill,
                0.5f,
                (fill) => {
                    healthFill.fillAmount = fill;
                    UpdateHealthText(fill * maxHealth, maxHealth);
                }
            ).SetEase(Ease.OutCubic);

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É—Ä–æ–Ω
            if (targetFill < healthFill.fillAmount)
            {
                ShowDamageEffect(healthFill.fillAmount, targetFill);
            }
        }
        else
        {
            healthFill.fillAmount = targetFill;
            UpdateHealthText(health, maxHealth);
        }
    }

    private void ShowDamageEffect(float fromFill, float toFill)
    {
        // –ö—Ä–∞—Å–Ω–∞—è –ø–æ–ª–æ—Å–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ—Ç–µ—Ä—è–Ω–Ω–æ–µ –∑–¥–æ—Ä–æ–≤—å–µ
        damageFill.fillAmount = fromFill;
        damageFill.color = new Color(1, 0, 0, 0.8f);

        // –ü–ª–∞–≤–Ω–æ —É–º–µ–Ω—å—à–∞–µ–º –∫—Ä–∞—Å–Ω—É—é –ø–æ–ª–æ—Å—É
        Tweener.DoFloat(fromFill, toFill, 0.8f, (fill) => {
            damageFill.fillAmount = fill;
        }).SetDelay(0.3f).SetEase(Ease.OutCubic);

        // –ü–ª–∞–≤–Ω–æ —Å–∫—Ä—ã–≤–∞–µ–º –∫—Ä–∞—Å–Ω—É—é –ø–æ–ª–æ—Å—É
        Tweener.DoFloat(0.8f, 0f, 0.5f, (alpha) => {
            var color = damageFill.color;
            color.a = alpha;
            damageFill.color = color;
        }).SetDelay(0.8f);
    }

    private void UpdateHealthText(float health, float maxHealth)
    {
        healthText.SetText($"{health:F0}/{maxHealth:F0}");
    }
}
```

## üß© –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏ (–≥–æ—Ç–æ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è)

UI.Windows –ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è —Å –≥–æ—Ç–æ–≤—ã–º–∏ –º–æ–¥—É–ª—è–º–∏ –¥–ª—è —á–∞—Å—Ç—ã—Ö –∑–∞–¥–∞—á. –ù–µ –Ω—É–∂–Ω–æ –∏–∑–æ–±—Ä–µ—Ç–∞—Ç—å –≤–µ–ª–æ—Å–∏–ø–µ–¥!

### üñ•Ô∏è –ö–æ–Ω—Å–æ–ª—å –æ—Ç–ª–∞–¥–∫–∏ (Console System)

**–ó–∞—á–µ–º –Ω—É–∂–Ω–∞?** –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–≥—Ä—ã –ø—Ä—è–º–æ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è. –ú–æ–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã, –º–µ–Ω—è—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, —Ç–µ–ª–µ–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è, —Å–ø–∞–≤–Ω–∏—Ç—å –æ–±—ä–µ–∫—Ç—ã.

#### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```csharp
// –°–æ–∑–¥–∞–π –º–æ–¥—É–ª—å –∫–æ–Ω—Å–æ–ª–∏
public class GameConsoleModule : WindowSystemConsoleModule
{
    // –ö–æ–º–∞–Ω–¥–∞ –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
    [RuntimeConsoleCommand("help")]
    public void ShowHelp()
    {
        Debug.Log("–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã: spawn, teleport, heal, givegold");
    }

    // –ö–æ–º–∞–Ω–¥–∞ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
    [RuntimeConsoleCommand("spawn")]
    public void SpawnEnemy(string enemyType, int count = 1)
    {
        Debug.Log($"–°–ø–∞–≤–Ω–∏–º {count} –≤—Ä–∞–≥–æ–≤ —Ç–∏–ø–∞ {enemyType}");
        for (int i = 0; i < count; i++)
        {
            // GameManager.SpawnEnemy(enemyType);
        }
    }

    // –ö–æ–º–∞–Ω–¥–∞ —Å —Ä–∞–∑–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
    [RuntimeConsoleCommand("teleport")]
    public void TeleportPlayer(float x, float y, float z)
    {
        Debug.Log($"–¢–µ–ª–µ–ø–æ—Ä—Ç–∏—Ä—É–µ–º –∏–≥—Ä–æ–∫–∞ –≤ {x}, {y}, {z}");
        // Player.transform.position = new Vector3(x, y, z);
    }

    // –ö–æ–º–∞–Ω–¥–∞ —Å bool –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º
    [RuntimeConsoleCommand("godmode")]
    public void ToggleGodMode(bool enabled)
    {
        Debug.Log($"–†–µ–∂–∏–º –±–æ–≥–∞: {(enabled ? "–≤–∫–ª—é—á—ë–Ω" : "–≤—ã–∫–ª—é—á–µ–Ω")}");
        // Player.SetGodMode(enabled);
    }

    // –ö–æ–º–∞–Ω–¥–∞ —Å enum –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º
    [RuntimeConsoleCommand("weather")]
    public void ChangeWeather(WeatherType weather)
    {
        Debug.Log($"–ú–µ–Ω—è–µ–º –ø–æ–≥–æ–¥—É –Ω–∞ {weather}");
        // WeatherManager.SetWeather(weather);
    }
}

public enum WeatherType
{
    Sunny, Rainy, Stormy, Snowy
}
```

#### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∏–≥—Ä–µ

–í –∫–æ–Ω—Å–æ–ª–∏ –∏–≥—Ä–æ–∫ –º–æ–∂–µ—Ç –Ω–∞–ø–∏—Å–∞—Ç—å:
```
spawn orc 5          // –°–æ–∑–¥–∞—Ç—å 5 –æ—Ä–∫–æ–≤
teleport 10 0 15     // –¢–µ–ª–µ–ø–æ—Ä—Ç –≤ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
godmode true         // –í–∫–ª—é—á–∏—Ç—å —Ä–µ–∂–∏–º –±–æ–≥–∞
weather rainy        // –í–∫–ª—é—á–∏—Ç—å –¥–æ–∂–¥—å
```

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Å–æ–ª–∏

```csharp
public class GameStarter : MonoBehaviour
{
    [SerializeField] private WindowSystemConsoleModule consoleModule;

    void Start()
    {
        // –î–æ–±–∞–≤–ª—è–µ–º –º–æ–¥—É–ª—å –∫–æ–Ω—Å–æ–ª–∏ –≤ —Å–∏—Å—Ç–µ–º—É
        WindowSystem.GetModule<WindowSystemModules>().AddModule(consoleModule);
        
        // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –±—ã—Å—Ç—Ä—ã–µ –∫–Ω–æ–ø–∫–∏ (Fast Links)
        consoleModule.AddFastLink("–ü–æ–ª–Ω–æ–µ –∑–¥–æ—Ä–æ–≤—å–µ", "heal 100");
        consoleModule.AddFastLink("1000 –∑–æ–ª–æ—Ç–∞", "givegold 1000");
        consoleModule.AddFastLink("–£–±–∏—Ç—å –≤—Å–µ—Ö –≤—Ä–∞–≥–æ–≤", "killall enemies");
    }
}
```

### üìö –°–∏—Å—Ç–µ–º–∞ –æ–±—É—á–µ–Ω–∏—è (Tutorial System)

**–ó–∞—á–µ–º –Ω—É–∂–Ω–∞?** –ß—Ç–æ–±—ã –æ–±—É—á–∞—Ç—å –∏–≥—Ä–æ–∫–æ–≤ –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∏–≥—Ä–æ–π. –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å—Ç—Ä–µ–ª–æ—á–∫–∏, –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –≤–µ—Å—Ç–∏ –ø–æ —à–∞–≥–∞–º.

#### –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—É—á–µ–Ω–∏—è

```csharp
public class GameTutorialModule : TutorialModule
{
    protected override void OnInitialize()
    {
        // –°–æ–∑–¥–∞—ë–º –æ–±—É—á–µ–Ω–∏–µ –¥–ª—è –Ω–æ–≤—ã—Ö –∏–≥—Ä–æ–∫–æ–≤
        CreateTutorial("first_time_tutorial", new TutorialStep[]
        {
            // –®–∞–≥ 1: –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
            new TutorialStep
            {
                id = "welcome",
                description = "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –∏–≥—Ä—É!",
                conditions = new ITutorialCondition[] 
                {
                    new HasKey("game_started") // –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ –∏–≥—Ä–∞ –Ω–∞—á–∞–ª–∞—Å—å
                },
                actions = new ITutorialAction[]
                {
                    new ShowScreen<TutorialWelcomeScreen>(), // –ü–æ–∫–∞–∑–∞—Ç—å —ç–∫—Ä–∞–Ω –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è
                    new SetKey("tutorial_started", true)    // –û—Ç–º–µ—Ç–∏—Ç—å —á—Ç–æ –æ–±—É—á–µ–Ω–∏–µ –Ω–∞—á–∞–ª–æ—Å—å
                }
            },

            // –®–∞–≥ 2: –ü–æ–∫–∞–∑–∞—Ç—å –∫–∞–∫ –¥–≤–∏–≥–∞—Ç—å—Å—è
            new TutorialStep
            {
                id = "movement",
                description = "–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ WASD –¥–ª—è –¥–≤–∏–∂–µ–Ω–∏—è",
                conditions = new ITutorialCondition[]
                {
                    new HasKey("tutorial_started")
                },
                actions = new ITutorialAction[]
                {
                    new ShowHideComponents(new[] { "MovementHint" }, true), // –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫—É
                    new LockElement("InventoryButton", true),              // –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∫–Ω–æ–ø–∫—É –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è
                    new WaitForClick("MovementArea")                       // –ñ–¥–∞—Ç—å –∫–ª–∏–∫ –ø–æ –æ–±–ª–∞—Å—Ç–∏ –¥–≤–∏–∂–µ–Ω–∏—è
                }
            },

            // –®–∞–≥ 3: –ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å
            new TutorialStep
            {
                id = "inventory",
                description = "–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è",
                conditions = new ITutorialCondition[]
                {
                    new HasKey("movement_completed")
                },
                actions = new ITutorialAction[]
                {
                    new LockElement("InventoryButton", false),    // –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∫–Ω–æ–ø–∫—É
                    new ShowArrow("InventoryButton"),             // –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç—Ä–µ–ª–∫—É
                    new WaitForClick("InventoryButton"),          // –ñ–¥–∞—Ç—å –∫–ª–∏–∫ –ø–æ –∫–Ω–æ–ø–∫–µ
                    new ShowScreen<InventoryScreen>(),            // –û—Ç–∫—Ä—ã—Ç—å –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å
                    new SetKey("tutorial_completed", true)       // –ó–∞–≤–µ—Ä—à–∏—Ç—å –æ–±—É—á–µ–Ω–∏–µ
                }
            }
        });
    }

    // –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ–≥–¥–∞ –æ–±—É—á–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ
    protected override void OnTutorialCompleted(string tutorialId)
    {
        if (tutorialId == "first_time_tutorial")
        {
            Debug.Log("–ò–≥—Ä–æ–∫ –ø—Ä–æ—à—ë–ª –±–∞–∑–æ–≤–æ–µ –æ–±—É—á–µ–Ω–∏–µ!");
            // –ú–æ–∂–Ω–æ –¥–∞—Ç—å –Ω–∞–≥—Ä–∞–¥—É, —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç –∏ —Ç.–¥.
        }
    }
}
```

#### –ö–∞—Å—Ç–æ–º–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –æ–±—É—á–µ–Ω–∏—è

```csharp
// –ö–∞—Å—Ç–æ–º–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ - –ø–æ–∫–∞–∑–∞—Ç—å –¥–∏–∞–ª–æ–≥ —Å NPC
public class ShowNPCDialog : ITutorialAction
{
    public string npcId;
    public string dialogText;

    public void Execute()
    {
        var npc = GameObject.Find(npcId);
        if (npc != null)
        {
            var dialogSystem = npc.GetComponent<NPCDialogSystem>();
            dialogSystem.ShowDialog(dialogText);
        }
    }
}

// –ö–∞—Å—Ç–æ–º–Ω–æ–µ —É—Å–ª–æ–≤–∏–µ - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å –∏–≥—Ä–æ–∫–∞
public class PlayerLevelCondition : ITutorialCondition
{
    public int requiredLevel;

    public bool IsTrue()
    {
        return GameManager.Player.Level >= requiredLevel;
    }
}
```

#### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏

```csharp
// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∫–Ω–æ–ø–∫–∏, –∫–æ—Ç–æ—Ä—ã–π —É—á–∏—Ç—ã–≤–∞–µ—Ç –æ–±—É—á–µ–Ω–∏–µ
public class TutorialAwareButtonComponent : ButtonComponent
{
    [SerializeField] private string tutorialTag = ""; // –¢–µ–≥ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è

    protected override void OnInitialize()
    {
        base.OnInitialize();
        
        // –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ–º—Å—è –Ω–∞ —Å–∏—Å—Ç–µ–º—É –æ–±—É—á–µ–Ω–∏—è
        var tutorialSystem = WindowSystem.GetModule<TutorialModule>();
        tutorialSystem.OnElementLocked += OnTutorialLock;
    }

    private void OnTutorialLock(string elementTag, bool isLocked)
    {
        if (elementTag == tutorialTag)
        {
            SetInteractable(!isLocked);
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤–∏–∑—É–∞–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
            if (isLocked)
            {
                GetComponent<CanvasGroup>().alpha = 0.5f;
            }
            else
            {
                GetComponent<CanvasGroup>().alpha = 1f;
            }
        }
    }
}
```

### üé® URP –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

**–ó–∞—á–µ–º –Ω—É–∂–Ω–∞?** Universal Render Pipeline —Ç—Ä–µ–±—É–µ—Ç –æ—Å–æ–±–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞–º–µ—Ä. –ú–æ–¥—É–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—Å—ë –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç.

```csharp
public class URPModule : WindowSystemModule
{
    public override void OnInitialize()
    {
        Debug.Log("–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º URP –¥–ª—è UI.Windows");
        
        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º Camera Stack –¥–ª—è URP
        SetupCameraStack();
        
        // –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ–º —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –¥–ª—è URP
        OptimizeURPRendering();
    }

    private void SetupCameraStack()
    {
        // –ù–∞—Ö–æ–¥–∏–º –æ—Å–Ω–æ–≤–Ω—É—é –∫–∞–º–µ—Ä—É
        var mainCamera = Camera.main;
        if (mainCamera != null)
        {
            var cameraData = mainCamera.GetUniversalAdditionalCameraData();
            if (cameraData != null)
            {
                // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º —Å—Ç–µ–∫ –∫–∞–º–µ—Ä –¥–ª—è UI
                // (–¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–∫—Ä—ã—Ç—ã –≤–Ω—É—Ç—Ä–∏ –º–æ–¥—É–ª—è)
            }
        }
    }
}
```

### üåê –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è

**–ó–∞—á–µ–º –Ω—É–∂–Ω–∞?** –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö —è–∑—ã–∫–æ–≤ –≤ –∏–≥—Ä–µ.

```csharp
// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º
public class LocalizedMenuComponent : TextComponent
{
    [SerializeField] private string localizationKey = "MENU_PLAY";

    protected override void OnInitialize()
    {
        base.OnInitialize();
        
        // –î–æ–±–∞–≤–ª—è–µ–º –º–æ–¥—É–ª—å –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏
        var locModule = AddModule<TextLocalizationComponentModule>();
        locModule.SetLocalizationKey(localizationKey);
        
        // –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ–º—Å—è –Ω–∞ —Å–º–µ–Ω—É —è–∑—ã–∫–∞
        LocalizationSettings.SelectedLocaleChanged += OnLanguageChanged;
    }

    private void OnLanguageChanged(Locale newLocale)
    {
        // –¢–µ–∫—Å—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–∏—Ç—Å—è —á–µ—Ä–µ–∑ –º–æ–¥—É–ª—å –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏
        Debug.Log($"–Ø–∑—ã–∫ –∏–∑–º–µ–Ω—ë–Ω –Ω–∞: {newLocale.Identifier.Code}");
    }
}
```

### üì¶ –ê—Ç–ª–∞—Å—ã —Å–ø—Ä–∞–π—Ç–æ–≤

**–ó–∞—á–µ–º –Ω—É–∂–Ω—ã?** –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è - –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –º–∞–ª–µ–Ω—å–∫–∏—Ö –∫–∞—Ä—Ç–∏–Ω–æ–∫ –≤ –æ–¥–Ω—É –±–æ–ª—å—à—É—é.

```csharp
public class AtlasModule : WindowSystemModule
{
    [SerializeField] private SpriteAtlas uiAtlas;

    public override void OnInitialize()
    {
        // –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –∞—Ç–ª–∞—Å –≤ —Å–∏—Å—Ç–µ–º–µ
        RegisterAtlas(uiAtlas);
    }

    // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø—Ä–∞–π—Ç–∞ –∏–∑ –∞—Ç–ª–∞—Å–∞
    public Sprite GetSpriteFromAtlas(string spriteName)
    {
        return uiAtlas.GetSprite(spriteName);
    }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
public class IconComponent : ImageComponent
{
    public void SetIcon(string iconName)
    {
        var atlasModule = WindowSystem.GetModule<AtlasModule>();
        var sprite = atlasModule.GetSpriteFromAtlas(iconName);
        SetSprite(sprite);
    }
}
```

## üõ†Ô∏è –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞

UI.Windows –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–æ—â–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ Unity.

### –ú–∞—Å—Ç–µ—Ä —Å–æ–∑–¥–∞–Ω–∏—è —ç–∫—Ä–∞–Ω–æ–≤

**–ì–¥–µ –Ω–∞–π—Ç–∏:** –ü—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –≤ –ø—Ä–æ–µ–∫—Ç–µ ‚Üí **Create ‚Üí UI.Windows ‚Üí Screen**

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
1. –°–æ–∑–¥–∞—ë—Ç —Å–∫—Ä–∏–ø—Ç —ç–∫—Ä–∞–Ω–∞ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ–º
2. –°–æ–∑–¥–∞—ë—Ç –ø—Ä–µ—Ñ–∞–± –º–∞–∫–µ—Ç–∞ —Å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º Canvas
3. –°–æ–∑–¥–∞—ë—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–æ–∫ –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
4. –°–≤—è–∑—ã–≤–∞–µ—Ç –≤—Å—ë –≤–º–µ—Å—Ç–µ

**–ü—Ä–∏–º–µ—Ä —Å–æ–∑–¥–∞–Ω–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:**
```
Screens/
‚îú‚îÄ‚îÄ MainMenu/
‚îÇ   ‚îú‚îÄ‚îÄ MainMenuScreen.cs          // –°–∫—Ä–∏–ø—Ç —ç–∫—Ä–∞–Ω–∞
‚îÇ   ‚îú‚îÄ‚îÄ MainMenuLayout.prefab      // –ü—Ä–µ—Ñ–∞–± –º–∞–∫–µ—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ Components/                // –ü–∞–ø–∫–∞ –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
‚îÇ       ‚îú‚îÄ‚îÄ PlayButtonComponent.cs
‚îÇ       ‚îî‚îÄ‚îÄ SettingsButtonComponent.cs
```

### –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏

UI.Windows –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–≤–æ–π –ø—Ä–æ–µ–∫—Ç –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏:

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Å—ã–ª–æ–∫

```csharp
// –í –∏–Ω—Å–ø–µ–∫—Ç–æ—Ä–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —Ç—ã —É–≤–∏–¥–∏—à—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è:
public class MyScreen : WindowBase
{
    [RequiredReference] // –≠—Ç–æ—Ç –∞—Ç—Ä–∏–±—É—Ç –ø–æ–∫–∞–∂–µ—Ç –æ—à–∏–±–∫—É –µ—Å–ª–∏ —Å—Å—ã–ª–∫–∞ –ø—É—Å—Ç–∞—è
    [SerializeField] private ButtonComponent playButton;
    
    [RequiredReference]
    [SerializeField] private WindowLayout layout;
}
```

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:
- –í—Å–µ –ª–∏ —Å—Å—ã–ª–∫–∏ –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∑–∞–ø–æ–ª–Ω–µ–Ω—ã
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã Addressable —Ä–µ—Å—É—Ä—Å—ã
- –ù–µ—Ç –ª–∏ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –∞–Ω–∏–º–∞—Ü–∏–∏

### –ö–∞—Å—Ç–æ–º–Ω—ã–µ Property Drawer'—ã

UI.Windows –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∫—Ä–∞—Å–∏–≤—ã–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä—ã –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Ç–∏–ø–æ–≤:

#### AnimationParameters

```csharp
[System.Serializable]
public class MyAnimation
{
    [AnimationParameters] // –ö—Ä–∞—Å–∏–≤—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä –∞–Ω–∏–º–∞—Ü–∏–∏
    public AnimationParameters fadeIn;
}
```

–í –∏–Ω—Å–ø–µ–∫—Ç–æ—Ä–µ —ç—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫:
- –í—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ —Ç–∏–ø–æ–≤ –∞–Ω–∏–º–∞—Ü–∏–∏
- –ü–æ–ª—è –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Ç/–¥–æ
- –°–ª–∞–π–¥–µ—Ä –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –í—ã–±–æ—Ä –∫—Ä–∏–≤–æ–π –∞–Ω–∏–º–∞—Ü–∏–∏
- –ö–Ω–æ–ø–∫–∞ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞

#### LayoutSelector

```csharp
[System.Serializable]
public class ScreenSettings
{
    [LayoutSelector] // –í—ã–±–æ—Ä –º–∞–∫–µ—Ç–∞ –∏–∑ —Å–ø–∏—Å–∫–∞
    public WindowLayout layout;
}
```

#### SearchTypePopup

```csharp
[System.Serializable]
public class ComponentReference
{
    [SearchTypePopup(typeof(WindowComponent))] // –ü–æ–∏—Å–∫ —Ç–∏–ø–æ–≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
    public string componentType;
}
```

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –æ—Ç–ª–∞–¥–∫–∏

#### Window System Inspector

–ö–æ–≥–¥–∞ –≤—ã–±–∏—Ä–∞–µ—à—å WindowSystem –≤ —Å—Ü–µ–Ω–µ, –≤–∏–¥–∏—à—å:
- –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–∫—Ä–∞–Ω–æ–≤
- –ò—Ö —Å–æ—Å—Ç–æ—è–Ω–∏—è (Showing, Shown, Hiding, Hidden)
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–∞–∂–¥–æ–≥–æ —ç–∫—Ä–∞–Ω–∞
- –ö–Ω–æ–ø–∫–∏ –¥–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø–æ–∫–∞–∑–∞/—Å–∫—Ä—ã—Ç–∏—è
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

#### Component Inspector

–î–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è:
- –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- –°–ø–∏—Å–æ–∫ –ø–æ–¥–∫–ª—é—á—ë–Ω–Ω—ã—Ö –º–æ–¥—É–ª–µ–π
- –°—Å—ã–ª–∫–∏ –Ω–∞ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã
- –ö–Ω–æ–ø–∫–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–π

#### Performance Profiler

```csharp
// –í–∫–ª—é—á–∏ –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
WindowSystem.Settings.enablePerformanceLogging = true;

// –í –∫–æ–Ω—Å–æ–ª–∏ Unity —É–≤–∏–¥–∏—à—å:
// [UI.Windows] Screen transition: MainMenu ‚Üí GameScreen took 234ms
// [UI.Windows] Animation: FadeIn completed in 156ms
// [UI.Windows] Resource loading: PlayerIcon took 45ms
```

### Addressables –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

UI.Windows –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç Addressables:

1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∞—Ä–∫–∏—Ä–æ–≤–∫–∞** - —ç–∫—Ä–∞–Ω—ã –∏ —Ä–µ—Å—É—Ä—Å—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–º–µ—á–∞—é—Ç—Å—è –∫–∞–∫ Addressable
2. **–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞** - —Ä–µ—Å—É—Ä—Å—ã –≥—Ä—É–ø–ø–∏—Ä—É—é—Ç—Å—è –ø–æ —ç–∫—Ä–∞–Ω–∞–º
3. **–í–∞–ª–∏–¥–∞—Ü–∏—è** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –≤—Å–µ —Å—Å—ã–ª–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
4. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** - –∞–Ω–∞–ª–∏–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö —Ä–µ–¥–∞–∫—Ç–æ—Ä–æ–≤

–ú–æ–∂–µ—à—å —Å–æ–∑–¥–∞—Ç—å —Å–≤–æ–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:

```csharp
#if UNITY_EDITOR
using UnityEditor;

[CustomEditor(typeof(MyCustomComponent))]
public class MyCustomComponentEditor : Editor
{
    public override void OnInspectorGUI()
    {
        var component = (MyCustomComponent)target;
        
        EditorGUILayout.LabelField("–ú–æ–π –∫–∞—Å—Ç–æ–º–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç", EditorStyles.boldLabel);
        
        // –ö–Ω–æ–ø–∫–∞ –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
        if (GUILayout.Button("–ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞"))
        {
            component.SetupDefaults();
        }
        
        // –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∏–Ω—Å–ø–µ–∫—Ç–æ—Ä
        DrawDefaultInspector();
        
        // –ö–∞—Å—Ç–æ–º–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
        if (component.someField == null)
        {
            EditorGUILayout.HelpBox("–ü–æ–ª–µ –Ω–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–æ!", MessageType.Warning);
        }
    }
}
#endif
```

## üí° –ü—Ä–∏–º–µ—Ä—ã –æ—Ç –ø—Ä–æ—Å—Ç–æ–≥–æ –∫ —Å–ª–æ–∂–Ω–æ–º—É

### üöÄ –ü—Ä–∏–º–µ—Ä 1: –ü—Ä–æ—Å—Ç–æ–µ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é

–°–æ–∑–¥–∞—ë–º –±–∞–∑–æ–≤–æ–µ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é —Å —Ç—Ä–µ–º—è –∫–Ω–æ–ø–∫–∞–º–∏.

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
MainMenu/
‚îú‚îÄ‚îÄ MainMenuScreen.cs
‚îú‚îÄ‚îÄ MainMenuLayout.prefab
‚îî‚îÄ‚îÄ Components/
    ‚îú‚îÄ‚îÄ PlayButtonComponent.cs
    ‚îú‚îÄ‚îÄ SettingsButtonComponent.cs
    ‚îî‚îÄ‚îÄ ExitButtonComponent.cs
```

#### –ö–æ–¥ —ç–∫—Ä–∞–Ω–∞

```csharp
using UnityEngine;
using UnityEngine.UI.Windows;

public class MainMenuScreen : WindowBase
{
    [SerializeField] private PlayButtonComponent playButton;
    [SerializeField] private SettingsButtonComponent settingsButton;
    [SerializeField] private ExitButtonComponent exitButton;

    public override void OnShowEnd()
    {
        // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –∫–Ω–æ–ø–∫–∏ –∫–æ–≥–¥–∞ —ç–∫—Ä–∞–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–∫–∞–∑–∞–ª—Å—è
        SetupButtons();
        
        // –ü—Ä–æ–∏–≥—Ä—ã–≤–∞–µ–º —Ñ–æ–Ω–æ–≤—É—é –º—É–∑—ã–∫—É
        AudioManager.PlayMusic("MainMenuTheme");
    }

    private void SetupButtons()
    {
        // –ö–Ω–æ–ø–∫–∞ –∏–≥—Ä–∞—Ç—å
        playButton.Setup("–ò–ì–†–ê–¢–¨", () => {
            StartNewGame();
        });

        // –ö–Ω–æ–ø–∫–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
        settingsButton.Setup("–ù–ê–°–¢–†–û–ô–ö–ò", () => {
            OpenSettings();
        });

        // –ö–Ω–æ–ø–∫–∞ –≤—ã—Ö–æ–¥
        exitButton.Setup("–í–´–•–û–î", () => {
            ExitGame();
        });
    }

    private void StartNewGame()
    {
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —ç–∫—Ä–∞–Ω –∑–∞–≥—Ä—É–∑–∫–∏
        WindowSystem.Show<LoadingScreen>();
        
        // –°–∫—Ä—ã–≤–∞–µ–º –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
        WindowSystem.Hide<MainMenuScreen>();
        
        // –ù–∞—á–∏–Ω–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É –∏–≥—Ä—ã
        GameManager.StartNewGame();
    }

    private void OpenSettings()
    {
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞–∫ –æ–≤–µ—Ä–ª–µ–π (–ø–æ–≤–µ—Ä—Ö –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é)
        var parameters = new ScreenItem().SetAsOverlay(true);
        WindowSystem.Show<SettingsScreen>(parameters);
    }

    private void ExitGame()
    {
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –¥–∏–∞–ª–æ–≥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
        var confirmParams = new ConfirmDialogParameters
        {
            title = "–í—ã—Ö–æ–¥ –∏–∑ –∏–≥—Ä—ã",
            message = "–í—ã —É–≤–µ—Ä–µ–Ω—ã —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –≤—ã–π—Ç–∏?",
            onConfirm = () => Application.Quit(),
            onCancel = () => Debug.Log("–û—Ç–º–µ–Ω–∞ –≤—ã—Ö–æ–¥–∞")
        };

        var parameters = new ScreenItem().SetParameters(confirmParams);
        WindowSystem.Show<ConfirmDialogScreen>(parameters);
    }
}
```

#### –ö–æ–¥ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∫–Ω–æ–ø–∫–∏

```csharp
using UnityEngine;
using UnityEngine.UI.Windows.Components;

public class PlayButtonComponent : ButtonComponent
{
    [SerializeField] private TextComponent buttonText;
    private System.Action onClickCallback;

    public void Setup(string text, System.Action onClick)
    {
        buttonText.SetText(text);
        onClickCallback = onClick;
        
        // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –≤–∏–∑—É–∞–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
        SetupVisualEffects();
    }

    public override void OnClick()
    {
        // –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º –∑–≤—É–∫ –∫–ª–∏–∫–∞
        AudioManager.PlaySFX("ButtonClick");
        
        // –ê–Ω–∏–º–∞—Ü–∏—è –Ω–∞–∂–∞—Ç–∏—è
        PlayClickAnimation();
        
        // –í—ã–∑—ã–≤–∞–µ–º –∫–æ–ª–±—ç–∫
        onClickCallback?.Invoke();
    }

    private void SetupVisualEffects()
    {
        // –≠—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏
        SetHoverCallback(() => {
            transform.localScale = Vector3.one * 1.05f;
            AudioManager.PlaySFX("ButtonHover");
        });

        // –£–±–∏—Ä–∞–µ–º —ç—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ —É—Ö–æ–¥–µ –∫—É—Ä—Å–æ—Ä–∞
        SetUnhoverCallback(() => {
            transform.localScale = Vector3.one;
        });
    }

    private void PlayClickAnimation()
    {
        // –ê–Ω–∏–º–∞—Ü–∏—è "–Ω–∞–∂–∞—Ç–∏—è"
        transform.localScale = Vector3.one * 0.95f;
        
        Tweener.DoVector3(
            Vector3.one * 0.95f,
            Vector3.one,
            0.1f,
            (scale) => transform.localScale = scale
        ).SetEase(Ease.OutBounce);
    }
}
```

### üéÆ –ü—Ä–∏–º–µ—Ä 2: –ò–≥—Ä–æ–≤–æ–π HUD —Å –∞–Ω–∏–º–∞—Ü–∏—è–º–∏

–°–æ–∑–¥–∞—ë–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤–æ –≤—Ä–µ–º—è –∏–≥—Ä—ã —Å –ø–æ–ª–æ—Å–∞–º–∏ –∑–¥–æ—Ä–æ–≤—å—è, –æ—á–∫–∞–º–∏, –º–∏–Ω–∏-–∫–∞—Ä—Ç–æ–π.

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ HUD

```csharp
public class GameHUDScreen : WindowBase
{
    [Header("–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏–≥—Ä–æ–∫–∞")]
    [SerializeField] private HealthBarComponent healthBar;
    [SerializeField] private ManaBarComponent manaBar;
    [SerializeField] private ScoreDisplayComponent scoreDisplay;
    [SerializeField] private LevelDisplayComponent levelDisplay;

    [Header("–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å")]
    [SerializeField] private MinimapComponent minimap;
    [SerializeField] private InventoryQuickSlotsComponent quickSlots;
    [SerializeField] private ChatComponent chat;

    [Header("–ö–Ω–æ–ø–∫–∏")]
    [SerializeField] private ButtonComponent pauseButton;
    [SerializeField] private ButtonComponent inventoryButton;
    [SerializeField] private ButtonComponent settingsButton;

    private Player player;

    public override void OnShowBegin()
    {
        // –ü–æ–ª—É—á–∞–µ–º —Å—Å—ã–ª–∫—É –Ω–∞ –∏–≥—Ä–æ–∫–∞
        player = GameManager.CurrentPlayer;
        
        // –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ–º—Å—è –Ω–∞ —Å–æ–±—ã—Ç–∏—è –∏–≥—Ä–æ–∫–∞
        SubscribeToPlayerEvents();
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
        InitializeHUDComponents();
    }

    public override void OnHideBegin()
    {
        // –û—Ç–ø–∏—Å—ã–≤–∞–µ–º—Å—è –æ—Ç —Å–æ–±—ã—Ç–∏–π
        UnsubscribeFromPlayerEvents();
    }

    private void SubscribeToPlayerEvents()
    {
        if (player != null)
        {
            player.OnHealthChanged += UpdateHealth;
            player.OnManaChanged += UpdateMana;
            player.OnExperienceChanged += UpdateExperience;
            player.OnLevelUp += OnPlayerLevelUp;
            player.OnInventoryChanged += UpdateQuickSlots;
        }

        // –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ–º—Å—è –Ω–∞ –∏–≥—Ä–æ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è
        GameManager.OnScoreChanged += UpdateScore;
        GameManager.OnPlayerDied += OnPlayerDied;
        ChatSystem.OnMessageReceived += OnChatMessage;
    }

    private void InitializeHUDComponents()
    {
        // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –ø–æ–ª–æ—Å—ã –∑–¥–æ—Ä–æ–≤—å—è –∏ –º–∞–Ω—ã
        healthBar.Initialize(player.MaxHealth);
        manaBar.Initialize(player.MaxMana);
        
        // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è
        levelDisplay.SetLevel(player.Level);
        
        // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –º–∏–Ω–∏-–∫–∞—Ä—Ç—É
        minimap.Initialize(player.transform);
        
        // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –±—ã—Å—Ç—Ä—ã–µ —Å–ª–æ—Ç—ã –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è
        quickSlots.Initialize(player.Inventory);
        
        // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –∫–Ω–æ–ø–∫–∏
        SetupButtons();
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –≤—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è
        UpdateAllDisplays();
    }

    private void UpdateHealth(float newHealth, float maxHealth)
    {
        healthBar.SetValue(newHealth, maxHealth, animate: true);
        
        // –≠—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ –Ω–∏–∑–∫–æ–º –∑–¥–æ—Ä–æ–≤—å–µ
        if (newHealth / maxHealth < 0.25f)
        {
            healthBar.StartLowHealthEffect();
        }
        else
        {
            healthBar.StopLowHealthEffect();
        }
    }

    private void OnPlayerLevelUp(int newLevel)
    {
        // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ–≤—ã—à–µ–Ω–∏—è —É—Ä–æ–≤–Ω—è
        levelDisplay.PlayLevelUpAnimation(newLevel);
        
        // –≠—Ñ—Ñ–µ–∫—Ç —á–∞—Å—Ç–∏—Ü
        PlayLevelUpParticles();
        
        // –ó–≤—É–∫
        AudioManager.PlaySFX("LevelUp");
    }
}
```

#### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–æ–ª–æ—Å—ã –∑–¥–æ—Ä–æ–≤—å—è

```csharp
public class HealthBarComponent : WindowComponent
{
    [SerializeField] private Image healthFillImage;
    [SerializeField] private Image damageFillImage; // –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ—Ç–µ—Ä—è–Ω–Ω–æ–µ –∑–¥–æ—Ä–æ–≤—å–µ
    [SerializeField] private TextComponent healthText;
    [SerializeField] private GameObject lowHealthWarning;

    private float currentHealth;
    private float maxHealth;
    private Coroutine lowHealthEffectCoroutine;

    public void Initialize(float maxHP)
    {
        maxHealth = maxHP;
        currentHealth = maxHP;
        UpdateDisplay();
    }

    public void SetValue(float health, float maxHP, bool animate = false)
    {
        float previousHealth = currentHealth;
        currentHealth = health;
        maxHealth = maxHP;

        if (animate)
        {
            AnimateHealthChange(previousHealth, health);
        }
        else
        {
            UpdateDisplay();
        }
    }

    private void AnimateHealthChange(float fromHealth, float toHealth)
    {
        float fromFill = fromHealth / maxHealth;
        float toFill = toHealth / maxHealth;

        // –ï—Å–ª–∏ –ø–æ–ª—É—á–∏–ª–∏ —É—Ä–æ–Ω - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫—Ä–∞—Å–Ω—É—é –ø–æ–ª–æ—Å—É
        if (toHealth < fromHealth)
        {
            ShowDamageAnimation(fromFill, toFill);
        }

        // –ê–Ω–∏–º–∏—Ä—É–µ–º –æ—Å–Ω–æ–≤–Ω—É—é –ø–æ–ª–æ—Å—É –∑–¥–æ—Ä–æ–≤—å—è
        Tweener.DoFloat(fromFill, toFill, 0.5f, (fill) => {
            healthFillImage.fillAmount = fill;
            UpdateHealthText();
        }).SetEase(Ease.OutCubic);

        // –ú–µ–Ω—è–µ–º —Ü–≤–µ—Ç –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∑–¥–æ—Ä–æ–≤—å—è
        UpdateHealthColor(toFill);
    }

    private void ShowDamageAnimation(float fromFill, float toFill)
    {
        // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫—Ä–∞—Å–Ω—É—é –ø–æ–ª–æ—Å—É –Ω–∞ —Ç–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å –∑–¥–æ—Ä–æ–≤—å—è
        damageFillImage.fillAmount = fromFill;
        damageFillImage.color = Color.red;

        // –ü–ª–∞–≤–Ω–æ —É–º–µ–Ω—å—à–∞–µ–º –∫—Ä–∞—Å–Ω—É—é –ø–æ–ª–æ—Å—É –¥–æ –Ω–æ–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è
        Tweener.DoFloat(fromFill, toFill, 0.8f, (fill) => {
            damageFillImage.fillAmount = fill;
        }).SetDelay(0.3f).SetEase(Ease.OutCubic);
    }

    private void UpdateHealthColor(float healthPercent)
    {
        Color targetColor;
        
        if (healthPercent > 0.6f)
            targetColor = Color.green;
        else if (healthPercent > 0.3f)
            targetColor = Color.yellow;
        else
            targetColor = Color.red;

        // –ü–ª–∞–≤–Ω–æ –º–µ–Ω—è–µ–º —Ü–≤–µ—Ç
        Tweener.DoColor(healthFillImage.color, targetColor, 0.3f, (color) => {
            healthFillImage.color = color;
        });
    }

    public void StartLowHealthEffect()
    {
        if (lowHealthEffectCoroutine != null) return;
        
        lowHealthWarning.SetActive(true);
        lowHealthEffectCoroutine = StartCoroutine(LowHealthPulseEffect());
    }

    public void StopLowHealthEffect()
    {
        if (lowHealthEffectCoroutine != null)
        {
            StopCoroutine(lowHealthEffectCoroutine);
            lowHealthEffectCoroutine = null;
        }
        
        lowHealthWarning.SetActive(false);
    }

    private IEnumerator LowHealthPulseEffect()
    {
        while (true)
        {
            // –ü—É–ª—å—Å–∞—Ü–∏—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
            Tweener.DoFloat(0f, 1f, 0.5f, (alpha) => {
                var color = lowHealthWarning.GetComponent<Image>().color;
                color.a = alpha;
                lowHealthWarning.GetComponent<Image>().color = color;
            });

            yield return new WaitForSeconds(0.5f);

            Tweener.DoFloat(1f, 0f, 0.5f, (alpha) => {
                var color = lowHealthWarning.GetComponent<Image>().color;
                color.a = alpha;
                lowHealthWarning.GetComponent<Image>().color = color;
            });

            yield return new WaitForSeconds(0.5f);
        }
    }

    private void UpdateDisplay()
    {
        healthFillImage.fillAmount = currentHealth / maxHealth;
        UpdateHealthText();
    }

    private void UpdateHealthText()
    {
        healthText.SetText($"{currentHealth:F0} / {maxHealth:F0}");
    }
}
```

### üì¶ –ü—Ä–∏–º–µ—Ä 3: –°–ª–æ–∂–Ω—ã–π –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π

–°–æ–∑–¥–∞—ë–º –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏, –ø–æ–∏—Å–∫–æ–º, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π.

#### –°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥–º–µ—Ç–æ–≤

```csharp
[System.Serializable]
public class InventoryItem
{
    public string id;
    public string name;
    public string description;
    public Sprite icon;
    public ItemType type;
    public ItemRarity rarity;
    public int count;
    public int maxStack;
    public bool isUsable;
    public bool isEquippable;
    public ItemStats stats;
}

public enum ItemType
{
    Weapon, Armor, Consumable, Material, Quest, Misc
}

public enum ItemRarity
{
    Common, Uncommon, Rare, Epic, Legendary
}

[System.Serializable]
public class ItemStats
{
    public int damage;
    public int defense;
    public int healthBonus;
    public int manaBonus;
    // –∏ –¥—Ä—É–≥–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
}
```

#### –≠–∫—Ä–∞–Ω –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è

```csharp
public class InventoryScreen : WindowBase
{
    [Header("–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã")]
    [SerializeField] private InventoryGridComponent itemGrid;
    [SerializeField] private ItemDetailsPanelComponent detailsPanel;
    [SerializeField] private FilterPanelComponent filterPanel;
    [SerializeField] private SearchComponent searchComponent;

    [Header("–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∏–≥—Ä–æ–∫–∞")]
    [SerializeField] private TextComponent goldDisplay;
    [SerializeField] private TextComponent weightDisplay;

    [Header("–ö–Ω–æ–ø–∫–∏")]
    [SerializeField] private ButtonComponent closeButton;
    [SerializeField] private ButtonComponent sortButton;
    [SerializeField] private ButtonComponent useButton;
    [SerializeField] private ButtonComponent dropButton;

    private PlayerInventory inventory;
    private InventoryItem selectedItem;
    private List<InventoryItem> filteredItems;

    public override void OnShowBegin()
    {
        inventory = GameManager.CurrentPlayer.Inventory;
        
        // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è
        LoadInventoryData();
        
        // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
        SetupComponents();
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
        RefreshDisplay();
    }

    private void LoadInventoryData()
    {
        var allItems = inventory.GetAllItems();
        filteredItems = new List<InventoryItem>(allItems);
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∏–≥—Ä–æ–∫–µ
        UpdatePlayerInfo();
    }

    private void SetupComponents()
    {
        // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º —Å–µ—Ç–∫—É –ø—Ä–µ–¥–º–µ—Ç–æ–≤
        itemGrid.Setup(filteredItems);
        itemGrid.OnItemSelected += OnItemSelected;
        itemGrid.OnItemDoubleClicked += OnItemDoubleClicked;

        // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º —Ñ–∏–ª—å—Ç—Ä—ã
        filterPanel.OnFilterChanged += OnFilterChanged;
        filterPanel.SetAvailableTypes(GetAvailableItemTypes());

        // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –ø–æ–∏—Å–∫
        searchComponent.OnSearchChanged += OnSearchChanged;

        // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –∫–Ω–æ–ø–∫–∏
        closeButton.SetCallback(() => WindowSystem.Hide<InventoryScreen>());
        sortButton.SetCallback(() => SortItems());
        useButton.SetCallback(() => UseSelectedItem());
        dropButton.SetCallback(() => DropSelectedItem());

        // –ò–∑–Ω–∞—á–∞–ª—å–Ω–æ –∫–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π –æ—Ç–∫–ª—é—á–µ–Ω—ã
        useButton.SetInteractable(false);
        dropButton.SetInteractable(false);
    }

    private void OnItemSelected(InventoryItem item)
    {
        selectedItem = item;
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –¥–µ—Ç–∞–ª–∏ –ø—Ä–µ–¥–º–µ—Ç–∞
        detailsPanel.ShowItem(item);
        
        // –û–±–Ω–æ–≤–ª—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–Ω–æ–ø–æ–∫
        UpdateActionButtons();
    }

    private void OnItemDoubleClicked(InventoryItem item)
    {
        // –î–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ = –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–µ–¥–º–µ—Ç
        if (item.isUsable)
        {
            UseItem(item);
        }
        else if (item.isEquippable)
        {
            EquipItem(item);
        }
    }

    private void OnFilterChanged(FilterSettings filters)
    {
        ApplyFilters(filters);
        RefreshItemGrid();
    }

    private void OnSearchChanged(string searchText)
    {
        ApplySearch(searchText);
        RefreshItemGrid();
    }

    private void ApplyFilters(FilterSettings filters)
    {
        filteredItems = inventory.GetAllItems().Where(item => {
            // –§–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É
            if (filters.selectedTypes.Count > 0 && !filters.selectedTypes.Contains(item.type))
                return false;

            // –§–∏–ª—å—Ç—Ä –ø–æ —Ä–µ–¥–∫–æ—Å—Ç–∏
            if (filters.minRarity != ItemRarity.Common && item.rarity < filters.minRarity)
                return false;

            // –§–∏–ª—å—Ç—Ä "—Ç–æ–ª—å–∫–æ —ç–∫–∏–ø–∏—Ä—É–µ–º—ã–µ"
            if (filters.onlyEquippable && !item.isEquippable)
                return false;

            return true;
        }).ToList();
    }

    private void ApplySearch(string searchText)
    {
        if (string.IsNullOrEmpty(searchText))
        {
            // –ï—Å–ª–∏ –ø–æ–∏—Å–∫ –ø—É—Å—Ç–æ–π, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—Å–µ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã
            return;
        }

        searchText = searchText.ToLower();
        filteredItems = filteredItems.Where(item => 
            item.name.ToLower().Contains(searchText) ||
            item.description.ToLower().Contains(searchText)
        ).ToList();
    }

    private void UseItem(InventoryItem item)
    {
        if (!item.isUsable) return;

        // –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–µ–¥–º–µ—Ç
        bool wasUsed = inventory.UseItem(item);
        
        if (wasUsed)
        {
            // –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º —ç—Ñ—Ñ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
            PlayItemUseEffect(item);
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            RefreshDisplay();
            
            // –ï—Å–ª–∏ –ø—Ä–µ–¥–º–µ—Ç –∑–∞–∫–æ–Ω—á–∏–ª—Å—è, —Å–Ω–∏–º–∞–µ–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ
            if (inventory.GetItemCount(item.id) == 0)
            {
                selectedItem = null;
                detailsPanel.Hide();
                UpdateActionButtons();
            }
        }
    }

    private void SortItems()
    {
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–µ–Ω—é —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
        var sortOptions = new[] {
            "–ü–æ –Ω–∞–∑–≤–∞–Ω–∏—é",
            "–ü–æ —Ç–∏–ø—É", 
            "–ü–æ —Ä–µ–¥–∫–æ—Å—Ç–∏",
            "–ü–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É"
        };

        var parameters = new DropdownMenuParameters
        {
            title = "–°–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ:",
            options = sortOptions,
            onSelected = (index) => ApplySort((SortType)index)
        };

        WindowSystem.Show<DropdownMenuScreen>(new ScreenItem().SetParameters(parameters));
    }

    private void PlayItemUseEffect(InventoryItem item)
    {
        // –ß–∞—Å—Ç–∏—Ü—ã —ç—Ñ—Ñ–µ–∫—Ç–∞
        var effectPos = detailsPanel.transform.position;
        ParticleSystem.Play("ItemUseEffect", effectPos);
        
        // –ó–≤—É–∫
        AudioManager.PlaySFX($"Use{item.type}");
        
        // –ê–Ω–∏–º–∞—Ü–∏—è –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞
        var slot = itemGrid.GetSlotForItem(item);
        if (slot != null)
        {
            slot.PlayUseAnimation();
        }
    }
}
```

#### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–µ—Ç–∫–∏ –ø—Ä–µ–¥–º–µ—Ç–æ–≤

```csharp
public class InventoryGridComponent : WindowComponent
{
    [SerializeField] private InventorySlotComponent slotPrefab;
    [SerializeField] private Transform gridContainer;
    [SerializeField] private ScrollRect scrollRect;

    private List<InventorySlotComponent> slots = new List<InventorySlotComponent>();
    private List<InventoryItem> items = new List<InventoryItem>();

    public System.Action<InventoryItem> OnItemSelected;
    public System.Action<InventoryItem> OnItemDoubleClicked;

    public void Setup(List<InventoryItem> inventoryItems)
    {
        items = inventoryItems;
        CreateSlots();
        RefreshSlots();
    }

    private void CreateSlots()
    {
        // –û—á–∏—â–∞–µ–º —Å—Ç–∞—Ä—ã–µ —Å–ª–æ—Ç—ã
        foreach (var slot in slots)
        {
            if (slot != null) Destroy(slot.gameObject);
        }
        slots.Clear();

        // –°–æ–∑–¥–∞—ë–º –Ω–æ–≤—ã–µ —Å–ª–æ—Ç—ã
        for (int i = 0; i < items.Count; i++)
        {
            var slotGO = Instantiate(slotPrefab.gameObject, gridContainer);
            var slot = slotGO.GetComponent<InventorySlotComponent>();
            
            slot.Setup(items[i], i);
            slot.OnClicked += () => OnItemSelected?.Invoke(slot.Item);
            slot.OnDoubleClicked += () => OnItemDoubleClicked?.Invoke(slot.Item);
            
            slots.Add(slot);
        }
    }

    private void RefreshSlots()
    {
        for (int i = 0; i < slots.Count; i++)
        {
            if (i < items.Count)
            {
                slots[i].SetItem(items[i]);
                slots[i].SetVisible(true);
            }
            else
            {
                slots[i].SetVisible(false);
            }
        }
    }

    public InventorySlotComponent GetSlotForItem(InventoryItem item)
    {
        return slots.FirstOrDefault(slot => slot.Item?.id == item.id);
    }
}
```

### üéØ –ü—Ä–∏–º–µ—Ä 4: –°–∏—Å—Ç–µ–º–∞ –¥–∏–∞–ª–æ–≥–æ–≤ —Å NPC

–°–æ–∑–¥–∞—ë–º –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—É—é —Å–∏—Å—Ç–µ–º—É –¥–∏–∞–ª–æ–≥–æ–≤ —Å –≤–µ—Ç–≤–ª–µ–Ω–∏–µ–º, —É—Å–ª–æ–≤–∏—è–º–∏, —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏.

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏–∞–ª–æ–≥–æ–≤

```csharp
[System.Serializable]
public class DialogData
{
    public string id;
    public string npcName;
    public Sprite npcPortrait;
    public DialogNode[] nodes;
    public DialogCondition[] showConditions;
}

[System.Serializable]
public class DialogNode
{
    public string id;
    public string text;
    public DialogChoice[] choices;
    public DialogAction[] actions;
    public DialogCondition[] conditions;
    public bool isEndNode;
}

[System.Serializable]
public class DialogChoice
{
    public string text;
    public string targetNodeId;
    public DialogCondition[] conditions;
    public DialogAction[] actions;
}
```

#### –≠–∫—Ä–∞–Ω –¥–∏–∞–ª–æ–≥–∞

```csharp
public class DialogScreen : WindowBase
{
    [Header("UI –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã")]
    [SerializeField] private ImageComponent npcPortrait;
    [SerializeField] private TextComponent npcNameText;
    [SerializeField] private TextComponent dialogText;
    [SerializeField] private Transform choicesContainer;
    [SerializeField] private DialogChoiceComponent choicePrefab;

    [Header("–≠—Ñ—Ñ–µ–∫—Ç—ã")]
    [SerializeField] private AnimationParameters textTypewriterEffect;
    [SerializeField] private AudioClip textTypeSound;

    private DialogData currentDialog;
    private DialogNode currentNode;
    private List<DialogChoiceComponent> choiceButtons = new List<DialogChoiceComponent>();
    private Coroutine typewriterCoroutine;

    public override void OnParametersPass(ScreenItem item)
    {
        var dialogParams = item.GetParameter<DialogParameters>();
        currentDialog = dialogParams.dialogData;
        
        SetupDialog();
    }

    private void SetupDialog()
    {
        // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –ø–æ—Ä—Ç—Ä–µ—Ç –∏ –∏–º—è NPC
        npcPortrait.SetSprite(currentDialog.npcPortrait);
        npcNameText.SetText(currentDialog.npcName);

        // –ù–∞—Ö–æ–¥–∏–º —Å—Ç–∞—Ä—Ç–æ–≤—É—é –Ω–æ–¥—É
        currentNode = FindStartNode();
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–µ—Ä–≤—É—é —Ä–µ–ø–ª–∏–∫—É
        ShowCurrentNode();
    }

    private DialogNode FindStartNode()
    {
        // –ò—â–µ–º –Ω–æ–¥—É —Å id "start" –∏–ª–∏ –ø–µ—Ä–≤—É—é –¥–æ—Å—Ç—É–ø–Ω—É—é
        var startNode = currentDialog.nodes.FirstOrDefault(n => n.id == "start");
        if (startNode != null && CheckNodeConditions(startNode))
            return startNode;

        // –ï—Å–ª–∏ —Å—Ç–∞—Ä—Ç–æ–≤–æ–π –Ω–æ–¥—ã –Ω–µ—Ç, –±–µ—Ä—ë–º –ø–µ—Ä–≤—É—é –ø–æ–¥—Ö–æ–¥—è—â—É—é
        foreach (var node in currentDialog.nodes)
        {
            if (CheckNodeConditions(node))
                return node;
        }

        Debug.LogError($"–ù–µ –Ω–∞–π–¥–µ–Ω–∞ –¥–æ—Å—Ç—É–ø–Ω–∞—è —Å—Ç–∞—Ä—Ç–æ–≤–∞—è –Ω–æ–¥–∞ –¥–ª—è –¥–∏–∞–ª–æ–≥–∞ {currentDialog.id}");
        return currentDialog.nodes[0]; // –í –∫—Ä–∞–π–Ω–µ–º —Å–ª—É—á–∞–µ –±–µ—Ä—ë–º –ø–µ—Ä–≤—É—é
    }

    private void ShowCurrentNode()
    {
        if (currentNode == null) return;

        // –í—ã–ø–æ–ª–Ω—è–µ–º –¥–µ–π—Å—Ç–≤–∏—è –Ω–æ–¥—ã
        ExecuteNodeActions(currentNode.actions);

        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–µ–∫—Å—Ç —Å —ç—Ñ—Ñ–µ–∫—Ç–æ–º –ø–µ—á–∞—Ç–Ω–æ–π –º–∞—à–∏–Ω–∫–∏
        ShowDialogText(currentNode.text);

        // –°–æ–∑–¥–∞—ë–º –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤
        CreateChoiceButtons();
    }

    private void ShowDialogText(string text)
    {
        // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â—É—é –∞–Ω–∏–º–∞—Ü–∏—é —Ç–µ–∫—Å—Ç–∞
        if (typewriterCoroutine != null)
        {
            StopCoroutine(typewriterCoroutine);
        }

        // –ó–∞–ø—É—Å–∫–∞–µ–º —ç—Ñ—Ñ–µ–∫—Ç –ø–µ—á–∞—Ç–Ω–æ–π –º–∞—à–∏–Ω–∫–∏
        typewriterCoroutine = StartCoroutine(TypewriterEffect(text));
    }

    private IEnumerator TypewriterEffect(string fullText)
    {
        dialogText.SetText("");
        
        for (int i = 0; i <= fullText.Length; i++)
        {
            dialogText.SetText(fullText.Substring(0, i));
            
            // –ó–≤—É–∫ –ø–µ—á–∞—Ç–∏ (–Ω–µ –Ω–∞ –∫–∞–∂–¥—É—é –±—É–∫–≤—É, —á—Ç–æ–±—ã –Ω–µ —Ä–∞–∑–¥—Ä–∞–∂–∞–ª–æ)
            if (i % 3 == 0 && textTypeSound != null)
            {
                AudioSource.PlayClipAtPoint(textTypeSound, Vector3.zero, 0.3f);
            }
            
            yield return new WaitForSeconds(0.03f);
        }
        
        typewriterCoroutine = null;
        
        // –ö–æ–≥–¥–∞ —Ç–µ–∫—Å—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–∫–∞–∑–∞–Ω, –∞–∫—Ç–∏–≤–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏ –≤—ã–±–æ—Ä–æ–≤
        SetChoiceButtonsInteractable(true);
    }

    private void CreateChoiceButtons()
    {
        // –û—á–∏—â–∞–µ–º —Å—Ç–∞—Ä—ã–µ –∫–Ω–æ–ø–∫–∏
        ClearChoiceButtons();

        // –ï—Å–ª–∏ —ç—Ç–æ –∫–æ–Ω–µ—á–Ω–∞—è –Ω–æ–¥–∞, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –∫–Ω–æ–ø–∫—É "–ó–∞–∫—Ä—ã—Ç—å"
        if (currentNode.isEndNode)
        {
            CreateEndDialogButton();
            return;
        }

        // –°–æ–∑–¥–∞—ë–º –∫–Ω–æ–ø–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞
        foreach (var choice in currentNode.choices)
        {
            if (CheckChoiceConditions(choice))
            {
                CreateChoiceButton(choice);
            }
        }

        // –ï—Å–ª–∏ –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≤—ã–±–æ—Ä–æ–≤, —Å–æ–∑–¥–∞—ë–º –∫–Ω–æ–ø–∫—É "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å"
        if (choiceButtons.Count == 0)
        {
            CreateContinueButton();
        }

        // –ò–∑–Ω–∞—á–∞–ª—å–Ω–æ –∫–Ω–æ–ø–∫–∏ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã (–ø–æ–∫–∞ –Ω–µ –∑–∞–∫–æ–Ω—á–∏—Ç—Å—è –ø–µ—á–∞—Ç—å —Ç–µ–∫—Å—Ç–∞)
        SetChoiceButtonsInteractable(false);
    }

    private void CreateChoiceButton(DialogChoice choice)
    {
        var choiceGO = Instantiate(choicePrefab.gameObject, choicesContainer);
        var choiceComponent = choiceGO.GetComponent<DialogChoiceComponent>();
        
        choiceComponent.Setup(choice.text, () => OnChoiceSelected(choice));
        choiceButtons.Add(choiceComponent);
    }

    private void CreateEndDialogButton()
    {
        var choiceGO = Instantiate(choicePrefab.gameObject, choicesContainer);
        var choiceComponent = choiceGO.GetComponent<DialogChoiceComponent>();
        
        choiceComponent.Setup("–ó–∞–∫–æ–Ω—á–∏—Ç—å —Ä–∞–∑–≥–æ–≤–æ—Ä", () => {
            EndDialog();
        });
        
        choiceButtons.Add(choiceComponent);
    }

    private void OnChoiceSelected(DialogChoice choice)
    {
        // –í—ã–ø–æ–ª–Ω—è–µ–º –¥–µ–π—Å—Ç–≤–∏—è –≤—ã–±–æ—Ä–∞
        ExecuteChoiceActions(choice.actions);

        // –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Å–ª–µ–¥—É—é—â–µ–π –Ω–æ–¥–µ
        var nextNode = currentDialog.nodes.FirstOrDefault(n => n.id == choice.targetNodeId);
        if (nextNode != null)
        {
            currentNode = nextNode;
            ShowCurrentNode();
        }
        else
        {
            Debug.LogError($"–ù–µ –Ω–∞–π–¥–µ–Ω–∞ –Ω–æ–¥–∞ —Å id: {choice.targetNodeId}");
            EndDialog();
        }
    }

    private bool CheckNodeConditions(DialogNode node)
    {
        if (node.conditions == null || node.conditions.Length == 0)
            return true;

        foreach (var condition in node.conditions)
        {
            if (!EvaluateCondition(condition))
                return false;
        }

        return true;
    }

    private bool CheckChoiceConditions(DialogChoice choice)
    {
        if (choice.conditions == null || choice.conditions.Length == 0)
            return true;

        foreach (var condition in choice.conditions)
        {
            if (!EvaluateCondition(condition))
                return false;
        }

        return true;
    }

    private bool EvaluateCondition(DialogCondition condition)
    {
        // –ó–¥–µ—Å—å –ø—Ä–æ–≤–µ—Ä—è–µ–º —Ä–∞–∑–ª–∏—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è
        switch (condition.type)
        {
            case DialogConditionType.HasItem:
                return GameManager.CurrentPlayer.Inventory.HasItem(condition.stringValue, condition.intValue);
            
            case DialogConditionType.PlayerLevel:
                return GameManager.CurrentPlayer.Level >= condition.intValue;
            
            case DialogConditionType.QuestCompleted:
                return QuestManager.IsQuestCompleted(condition.stringValue);
            
            case DialogConditionType.Flag:
                return GameDataManager.GetFlag(condition.stringValue) == condition.boolValue;
            
            default:
                return true;
        }
    }

    private void ExecuteNodeActions(DialogAction[] actions)
    {
        if (actions == null) return;

        foreach (var action in actions)
        {
            ExecuteAction(action);
        }
    }

    private void ExecuteAction(DialogAction action)
    {
        switch (action.type)
        {
            case DialogActionType.GiveItem:
                GameManager.CurrentPlayer.Inventory.AddItem(action.stringValue, action.intValue);
                ShowNotification($"–ü–æ–ª—É—á–µ–Ω –ø—Ä–µ–¥–º–µ—Ç: {action.stringValue} x{action.intValue}");
                break;
            
            case DialogActionType.TakeItem:
                GameManager.CurrentPlayer.Inventory.RemoveItem(action.stringValue, action.intValue);
                break;
            
            case DialogActionType.GiveExperience:
                GameManager.CurrentPlayer.AddExperience(action.intValue);
                ShowNotification($"–ü–æ–ª—É—á–µ–Ω –æ–ø—ã—Ç: {action.intValue}");
                break;
            
            case DialogActionType.StartQuest:
                QuestManager.StartQuest(action.stringValue);
                ShowNotification($"–ü–æ–ª—É—á–µ–Ω –∫–≤–µ—Å—Ç: {QuestManager.GetQuest(action.stringValue).name}");
                break;
            
            case DialogActionType.SetFlag:
                GameDataManager.SetFlag(action.stringValue, action.boolValue);
                break;
        }
    }

    private void ShowNotification(string message)
    {
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—Å–ø–ª—ã–≤–∞—é—â–µ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
        var notificationParams = new NotificationParameters
        {
            message = message,
            duration = 3f,
            type = NotificationType.Info
        };

        WindowSystem.Show<NotificationScreen>(new ScreenItem().SetParameters(notificationParams));
    }

    private void EndDialog()
    {
        WindowSystem.Hide<DialogScreen>();
        
        // –í–æ–∑–≤—Ä–∞—â–∞–µ–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–≥—Ä–æ–∫—É
        GameManager.SetPlayerControlEnabled(true);
    }
}
```

## üÜò –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ß–∞—Å—Ç–æ –≤—Å—Ç—Ä–µ—á–∞—é—â–∏–µ—Å—è –æ—à–∏–±–∫–∏

#### ‚ùå "WindowSystem not found"

**–ü—Ä–æ–±–ª–µ–º–∞:** –í —Å—Ü–µ–Ω–µ –Ω–µ—Ç –æ–±—ä–µ–∫—Ç–∞ WindowSystem.

**–†–µ—à–µ–Ω–∏–µ:**
1. –î–æ–±–∞–≤—å –≤ —Å—Ü–µ–Ω—É –æ–±—ä–µ–∫—Ç —Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º **Window System**
2. –ò–ª–∏ —Å–æ–∑–¥–∞–π —á–µ—Ä–µ–∑ –º–µ–Ω—é: **GameObject ‚Üí UI ‚Üí Window System**

#### ‚ùå "Screen X is not registered"

**–ü—Ä–æ–±–ª–µ–º–∞:** –≠–∫—Ä–∞–Ω –Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –≤ —Å–∏—Å—Ç–µ–º–µ.

**–†–µ—à–µ–Ω–∏–µ:**
```csharp
// –£–±–µ–¥–∏—Å—å —á—Ç–æ –∫–ª–∞—Å—Å —ç–∫—Ä–∞–Ω–∞ –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç WindowBase
public class MyScreen : WindowBase // ‚Üê –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ
{
    // –∫–æ–¥ —ç–∫—Ä–∞–Ω–∞
}
```

#### ‚ùå "Layout not found for screen"

**–ü—Ä–æ–±–ª–µ–º–∞:** –£ —ç–∫—Ä–∞–Ω–∞ –Ω–µ—Ç –ø—Ä–∏–≤—è–∑–∞–Ω–Ω–æ–≥–æ –º–∞–∫–µ—Ç–∞.

**–†–µ—à–µ–Ω–∏–µ:**
1. –°–æ–∑–¥–∞–π –ø—Ä–µ—Ñ–∞–± –º–∞–∫–µ—Ç–∞ —Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º **WindowLayout**
2. –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —ç–∫—Ä–∞–Ω–∞ —É–∫–∞–∂–∏ —Å—Å—ã–ª–∫—É –Ω–∞ –º–∞–∫–µ—Ç
3. –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π –º–∞—Å—Ç–µ—Ä —Å–æ–∑–¥–∞–Ω–∏—è —ç–∫—Ä–∞–Ω–æ–≤

#### ‚ùå "Component reference is null"

**–ü—Ä–æ–±–ª–µ–º–∞:** –°—Å—ã–ª–∫–∞ –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∞.

**–†–µ—à–µ–Ω–∏–µ:**
```csharp
public class MyScreen : WindowBase
{
    [RequiredReference] // –≠—Ç–æ—Ç –∞—Ç—Ä–∏–±—É—Ç –ø–æ–∫–∞–∂–µ—Ç –æ—à–∏–±–∫—É –≤ –∏–Ω—Å–ø–µ–∫—Ç–æ—Ä–µ
    [SerializeField] private ButtonComponent myButton;
}
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é

#### üêå –ú–µ–¥–ª–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏

**–ü—Ä–∏—á–∏–Ω—ã:**
- –°–ª–∏—à–∫–æ–º —Å–ª–æ–∂–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏
- –ú–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–æ–≤ –≤ —Å—Ü–µ–Ω–µ
- –ù–µ–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

**–†–µ—à–µ–Ω–∏—è:**
1. –£–ø—Ä–æ—Å—Ç–∏ –∞–Ω–∏–º–∞—Ü–∏–∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤
2. –ò—Å–ø–æ–ª—å–∑—É–π –æ–±—ä–µ–∫—Ç–Ω—ã–µ –ø—É–ª—ã
3. –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π —Å–ø—Ä–∞–π—Ç—ã –∏ —Ç–µ–∫—Å—Ç—É—Ä—ã
4. –í–∫–ª—é—á–∏ –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ:

```csharp
// –í–∫–ª—é—á–∏ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
WindowSystem.Settings.enablePerformanceLogging = true;
WindowSystem.Settings.enableDetailedLogging = true;
```

#### üêå –ú–µ–¥–ª–µ–Ω–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ —Å–ø–∏—Å–∫–æ–≤

**–ü—Ä–∏—á–∏–Ω—ã:**
- –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å—Ä–∞–∑—É
- –°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ –≤ OnDataBind

**–†–µ—à–µ–Ω–∏—è:**
1. –ò—Å–ø–æ–ª—å–∑—É–π –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—é —Å–ø–∏—Å–∫–æ–≤:

```csharp
public class OptimizedListComponent : ListComponent<MyItem>
{
    [SerializeField] private bool useVirtualization = true;
    [SerializeField] private int maxVisibleItems = 20;

    protected override void OnDataBind(MyItem item, int index)
    {
        // –ú–∏–Ω–∏–º–∏–∑–∏—Ä—É–π –ª–æ–≥–∏–∫—É –∑–¥–µ—Å—å
        var slot = GetComponentAtIndex<MySlotComponent>(index);
        slot.SetData(item); // –ü—Ä–æ—Å—Ç–æ–µ –ø—Ä–∏—Å–≤–æ–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
    }
}
```

#### üêå –£—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏

**–ü—Ä–∏—á–∏–Ω—ã:**
- –ù–µ –æ—Å–≤–æ–±–æ–∂–¥–∞—é—Ç—Å—è —Ä–µ—Å—É—Ä—Å—ã –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ —ç–∫—Ä–∞–Ω–æ–≤
- –ù–µ –æ—Ç–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –æ—Ç —Å–æ–±—ã—Ç–∏–π

**–†–µ—à–µ–Ω–∏—è:**
1. –ü—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Å–≤–æ–±–æ–∂–¥–∞–π —Ä–µ—Å—É—Ä—Å—ã:

```csharp
public class MyScreen : WindowBase
{
    public override void OnHideEnd()
    {
        // –û—Ç–ø–∏—Å—ã–≤–∞–µ–º—Å—è –æ—Ç –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π
        GameManager.OnScoreChanged -= UpdateScore;
        Player.OnHealthChanged -= UpdateHealth;
        
        // –û—Å–≤–æ–±–æ–∂–¥–∞–µ–º —Ä–µ—Å—É—Ä—Å—ã
        if (loadedTexture != null)
        {
            Resources.UnloadAsset(loadedTexture);
            loadedTexture = null;
        }
    }
}
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å –∞–Ω–∏–º–∞—Ü–∏—è–º–∏

#### üé¨ –ê–Ω–∏–º–∞—Ü–∏–∏ –Ω–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥—è—Ç—Å—è

**–ü—Ä–æ–±–ª–µ–º–∞:** AnimationParameters –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ.

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ duration > 0
2. –£–±–µ–¥–∏—Å—å —á—Ç–æ from –∏ to –∑–Ω–∞—á–µ–Ω–∏—è —Ä–∞–∑–Ω—ã–µ
3. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∞–∫—Ç–∏–≤–µ–Ω:

```csharp
public override void OnShowBegin()
{
    // –£–±–µ–¥–∏—Å—å —á—Ç–æ –æ–±—ä–µ–∫—Ç –∞–∫—Ç–∏–≤–µ–Ω –ø–µ—Ä–µ–¥ –∞–Ω–∏–º–∞—Ü–∏–µ–π
    if (!gameObject.activeInHierarchy)
    {
        gameObject.SetActive(true);
    }
    
    RunAnimation(showAnimation);
}
```

#### üé¨ –ê–Ω–∏–º–∞—Ü–∏–∏ —Ç–æ—Ä–º–æ–∑—è—Ç

**–ü—Ä–∏—á–∏–Ω—ã:**
- –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∞–Ω–∏–º–∞—Ü–∏–π –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- –°–ª–æ–∂–Ω—ã–µ –∫—Ä–∏–≤—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏

**–†–µ—à–µ–Ω–∏—è:**
1. –û–≥—Ä–∞–Ω–∏—á—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∞–Ω–∏–º–∞—Ü–∏–π
2. –ò—Å–ø–æ–ª—å–∑—É–π –ø—Ä–æ—Å—Ç—ã–µ –∫—Ä–∏–≤—ã–µ (Linear, OutCubic)
3. –û—Ç–∫–ª—é—á–∏ –∞–Ω–∏–º–∞—Ü–∏–∏ –Ω–∞ —Å–ª–∞–±—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö:

```csharp
public class AnimationSettings
{
    public static bool EnableAnimations => SystemInfo.processorCount > 2;
    
    public static void PlayAnimation(AnimationParameters parameters)
    {
        if (EnableAnimations)
        {
            // –ü–æ–ª–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è
            RunAnimation(parameters);
        }
        else
        {
            // –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ
            SetAnimationState(parameters.targetState);
        }
    }
}
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–µ–π

#### üåê –¢–µ–∫—Å—Ç –Ω–µ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –ø—Ä–∏ —Å–º–µ–Ω–µ —è–∑—ã–∫–∞

**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Ç–µ–∫—Å—Ç–∞ –Ω–µ –ø–æ–¥–ø–∏—Å–∞–Ω –Ω–∞ —Å–º–µ–Ω—É —è–∑—ã–∫–∞.

**–†–µ—à–µ–Ω–∏–µ:**
```csharp
public class LocalizedTextComponent : TextComponent
{
    [SerializeField] private string localizationKey;

    protected override void OnInitialize()
    {
        base.OnInitialize();
        
        // –î–æ–±–∞–≤–ª—è–µ–º –º–æ–¥—É–ª—å –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏
        var locModule = AddModule<TextLocalizationComponentModule>();
        locModule.SetLocalizationKey(localizationKey);
    }
}
```

### –û—Ç–ª–∞–¥–∫–∞ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

#### üîç –í–∫–ª—é—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

```csharp
void Start()
{
    // –í–∫–ª—é—á–∏ –≤—Å–µ –≤–∏–¥—ã –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
    WindowSystem.Settings.enablePerformanceLogging = true;
    WindowSystem.Settings.enableDetailedLogging = true;
    WindowSystem.Settings.enableAnimationLogging = true;
    WindowSystem.Settings.enableResourceLogging = true;
}
```

#### üîç –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –æ—Ç–ª–∞–¥–∫–∏ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ

1. **Window System Inspector** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤—Å–µ—Ö —ç–∫—Ä–∞–Ω–æ–≤
2. **Component Inspector** - –¥–µ—Ç–∞–ª–∏ –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
3. **Performance Monitor** - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
4. **Resource Monitor** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏

#### üîç Console –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

```csharp
[RuntimeConsoleCommand("ui_show")]
public void ShowScreen(string screenName)
{
    // –ü–æ–∫–∞–∑–∞—Ç—å —ç–∫—Ä–∞–Ω –ø–æ –∏–º–µ–Ω–∏
}

[RuntimeConsoleCommand("ui_hide")]
public void HideScreen(string screenName)
{
    // –°–∫—Ä—ã—Ç—å —ç–∫—Ä–∞–Ω –ø–æ –∏–º–µ–Ω–∏
}

[RuntimeConsoleCommand("ui_state")]
public void ShowUIState()
{
    // –ü–æ–∫–∞–∑–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤—Å–µ—Ö —ç–∫—Ä–∞–Ω–æ–≤
}

[RuntimeConsoleCommand("ui_performance")]
public void ShowPerformanceStats()
{
    // –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
}
```

---

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–ü–æ–∑–¥—Ä–∞–≤–ª—è—é!** –¢–µ–ø–µ—Ä—å —Ç—ã –∑–Ω–∞–µ—à—å UI.Windows –æ—Ç –ê –¥–æ –Ø. –≠—Ç–æ—Ç —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –∏–∑ –º—É—á–µ–Ω–∏—è –≤ —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ.

### üöÄ –ß—Ç–æ –¥–∞–ª—å—à–µ?

1. **–ù–∞—á–Ω–∏ —Å –ø—Ä–æ—Å—Ç–æ–≥–æ** - —Å–æ–∑–¥–∞–π –±–∞–∑–æ–≤–æ–µ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
2. **–ò–∑—É—á–∏ –ø—Ä–∏–º–µ—Ä—ã** - —Ä–∞–∑–±–µ—Ä–∏ –≥–æ—Ç–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã  
3. **–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä—É–π** - –ø—Ä–æ–±—É–π —Ä–∞–∑–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –∏ —ç—Ñ—Ñ–µ–∫—Ç—ã
4. **–°–æ–∑–¥–∞–≤–∞–π —Å–≤–æ–∏ –º–æ–¥—É–ª–∏** - —Ä–∞—Å—à–∏—Ä—è–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ–¥ —Å–≤–æ–∏ –Ω—É–∂–¥—ã

### üí° –ü–æ–º–Ω–∏ –≥–ª–∞–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:

- **Screen** = —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- **Layout** = —Ä–∞–∑–º–µ—Ç–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã  
- **Component** = —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
- **Module** = –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### üìû –ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?

- üìß **Email**: chrome.alex@gmail.com
- üêõ **–ë–∞–≥–∏**: [GitHub Issues](https://github.com/chromealex/UI.Windows-submodule/issues)
- üí¨ **–û–±—Å—É–∂–¥–µ–Ω–∏—è**: [GitHub Discussions](https://github.com/chromealex/UI.Windows-submodule/discussions)

---

**–£–¥–∞—á–∏ –≤ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫—Ä—É—Ç—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤! üéÆ‚ú®**